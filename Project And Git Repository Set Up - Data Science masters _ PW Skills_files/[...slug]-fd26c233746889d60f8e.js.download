(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[372],{2674:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return ct},default:function(){return lt}});var s=n(7294),o=n(9008),r=n(1508),i=n(266),a=n(809),c=n.n(a),l=n(1664),u=n(1163),d=n(8767),m=n(259),p=n(9249),v=n(9886),f=n.n(v),h=n(7527),_=n.n(h),x=n(2809),g=(n(4730),n(5657)),b=(0,s.createContext)({videoProgressData:null,setVideoProgressData:function(){}}),j=(0,s.createContext)({notesData:null,setNotesData:function(){},toggleVideo:!0,setToggleVideo:function(){},seekTimeStamp:null,setSeekTimeStamp:function(){}}),y=n(5328),N=n(5893);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,x.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=null,O=null,D=null,C=null,P=function(e){var t=e.videoData,n=e.allVideos,o=e.accessType,a=e.videoStats,l=(0,u.useRouter)(),v=l.query.slug,f=v[1],h=v[3],_=v[4],k=v[6],P=(0,d.useQueryClient)(),T=(0,m.xX)().executeRecaptcha,I=(0,s.useState)({lastWatchedInSeconds:0,isCompleted:!1,videoLengthInSeconds:0,session:{deviceType:"web",watchStats:[{startTime:0,endTime:0,startTimeStamp:(new Date).getTime(),endTimeStamp:(new Date).getTime()}]}}),R=I[0],L=I[1],Z=function(){var e=(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,T("MarkVideoProgress");case 4:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=(0,s.useContext)(b),M=E.videoProgressData,A=E.setVideoProgressData,F=(0,s.useContext)(j),V=F.notesData,B=F.setNotesData,W=F.toggleVideo,Q=F.setToggleVideo,H=F.seekTimeStamp,q=F.setSeekTimeStamp,U=(0,d.useMutation)((function(e){return(0,g.mC)(_,!0,f,e)}),{onSuccess:function(e){p.Am.success(e,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),P.invalidateQueries(["getUserCourseProgress",_],{exact:!0})},onError:function(e){p.Am.error(e.message,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}}),J=(0,d.useMutation)((function(e){return(0,g.t9)(C,D,R,e)}));return(0,s.useEffect)((function(){return setTimeout((function(){D=f,C=_}),1e3),function(){var e=R;e.session.watchStats=e.session.watchStats.filter((function(e,t,n){return t===n.findIndex((function(t){return t.startTime===e.startTime&&t.endTime===e.endTime&&t.startTime!==t.endTime&&e.startTime!==e.endTime}))})),L(e),J.mutate()}}),[]),(0,s.useEffect)((function(){if(f&&t){var e=function(){(O=new window.VdoPlayer({otp:null===t||void 0===t?void 0:t.otp,playbackInfo:null===t||void 0===t?void 0:t.playbackInfo,theme:"9ae8bbe8dd964ddc9bdb932cca1cb59a",container:document.querySelector("#vdoPlayer")})).addEventListener("load",(function(){var e;if(H&&(O.seek(Number(H)),Q(!0)),null!==(e=JSON.parse(localStorage.getItem("video_options")))&&void 0!==e&&e.autoplay&&(Q(!0),O.play()),a){O.seek(Number(a.lastWatchedInSeconds));var t=R;t.lastWatchedInSeconds=a.lastWatchedInSeconds,t.session.watchStats[t.session.watchStats.length-1].startTime=a.lastWatchedInSeconds,t.session.watchStats[t.session.watchStats.length-1].startTimeStamp=(new Date).getTime(),L(t)}if(localStorage.getItem("video_options")){var n=JSON.parse(localStorage.getItem("video_options"));n&&(O.setVolume(Number(null===n||void 0===n?void 0:n.volume)),O.setPlaybackRate(Number(null===n||void 0===n?void 0:n.playbackRate)),n.isMuted&&O.mute())}})),setTimeout((function(){O.addEventListener("progress",(function(){if(S!==O.currentTime&&(S=O.currentTime,0!==O.currentTime)){var e=R;e.lastWatchedInSeconds=O.currentTime,e.isCompleted=!(null===M||void 0===M||!M.videoProgress.find((function(e){return e===f}))),e.videoLengthInSeconds=O.bufferLength,e.session.watchStats[e.session.watchStats.length-1].endTime=O.currentTime,e.session.watchStats[e.session.watchStats.length-1].endTimeStamp=(new Date).getTime(),L(e)}}))}),1e3),O.addEventListener("pause",(function(){if(0!==O.currentTime){B(w(w({},V),{},(0,x.Z)({},f,O.currentTime)));var e=R;e.lastWatchedInSeconds=O.currentTime,e.session.watchStats.push({startTime:e.session.watchStats[e.session.watchStats.length-1].endTime,endTime:O.currentTime,startTimeStamp:(new Date).getTime(),endTimeStamp:(new Date).getTime()}),L(e)}})),O.addEventListener("seeking",(function(){var e=R;e.lastWatchedInSeconds=O.currentTime,e.session.watchStats.push({startTime:e.session.watchStats[e.session.watchStats.length-1].endTime,endTime:O.currentTime,startTimeStamp:(new Date).getTime(),endTimeStamp:(new Date).getTime()}),L(e)})),O.addEventListener("ended",(function(){var e,t;M&&((null===M||void 0===M?void 0:M.videoProgress.find((function(e){return e===f})))||((0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:(t=e.sent)&&U.mutate(t);case 4:case"end":return e.stop()}}),e)})))(),A(w(w({},M),{},{videoProgress:[].concat((0,r.Z)(M.videoProgress),[f])}))));if(localStorage.setItem("video_options",JSON.stringify({autoplay:!(null===(e=JSON.parse(localStorage.getItem("video_options")))||void 0===e||!e.autoplay)&&JSON.parse(localStorage.getItem("video_options")).autoplay,volume:O.volume,playbackRate:O.playbackRate,isMuted:O.muted})),null!==(t=JSON.parse(localStorage.getItem("video_options")))&&void 0!==t&&t.autoplay){var s=n.findIndex((function(e){return e._id===f}))+1;n[s]&&l.push("/lesson/".concat((0,y.qi)(n[s].title),"/").concat(n[s]._id,"/course/").concat(h,"/").concat(_).concat(k?"/batch/".concat(k):"").concat(""!==o?"bundle"===o?"?type=bundle":"roadmap"===o?"?type=roadmap":"":""))}}))};if(window.VdoPlayer)return e();var s=document.createElement("script");s.src="https://player.vdocipher.com/playerAssets/1.x/vdo.js",document.body.appendChild(s),s.addEventListener("load",(function(){return e()}))}return!0}),[f,t]),(0,s.useEffect)((function(){f&&t&&O&&(W?O.play():O.pause())}),[f,t,W]),(0,s.useEffect)((function(){if(H){O.seek(Number(H)),Q(!0),q(null);var e=R;e.lastWatchedInSeconds=Number(H),e.session.watchStats.push({startTime:e.session.watchStats[e.session.watchStats.length-1].endTime,endTime:Number(H),startTimeStamp:(new Date).getTime(),endTimeStamp:(new Date).getTime()}),L(e)}}),[H]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{style:{position:"relative",paddingTop:"45%"},children:(0,N.jsx)("div",{id:"vdoPlayer",style:{border:0,maxWidth:"100%",position:"absolute",top:0,left:0,width:"100%",height:"100%"}})}),(0,N.jsx)(p.Ix,{theme:"dark"})]})};P.defaultProps={videoData:null,allVideos:null,accessType:null,videoStats:null};var T=P,I=n(6310);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,x.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=null,E=null,M=function(e){var t=e.videoData,n=e.allVideos,o=e.accessType,a=e.videoStats,l=(0,s.useRef)(),v=(0,u.useRouter)(),f=v.query.slug,h=f[1],_=f[3],k=f[4],w=f[6],S=(0,m.xX)().executeRecaptcha,O=(0,s.useState)({autoplay:!1,isMuted:!1,playbackRate:1,volume:1}),D=O[0],C=O[1],P=(0,s.useState)(null),T=P[0],R=P[1],M=(0,s.useState)({lastWatchedInSeconds:0,isCompleted:!1,videoLengthInSeconds:0,session:{deviceType:"web",watchStats:[{startTime:0,endTime:0,startTimeStamp:(new Date).getTime(),endTimeStamp:(new Date).getTime()}]}}),A=M[0],F=M[1],V=function(){var e=(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,S("MarkVideoProgress");case 4:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=(0,s.useContext)(b),W=B.videoProgressData,Q=B.setVideoProgressData,H=(0,s.useContext)(j),q=H.notesData,U=H.setNotesData,J=H.toggleVideo,z=H.setToggleVideo,X=H.seekTimeStamp,G=H.setSeekTimeStamp,K=(0,d.useMutation)((function(e){return(0,g.mC)(k,!0,h,e)}),{onSuccess:function(e){p.Am.success(e,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},onError:function(e){p.Am.error(e.message,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}}),Y=(0,d.useMutation)((function(e){return(0,g.t9)(E,Z,A,e)}));(0,s.useEffect)((function(){return setTimeout((function(){Z=h,E=k}),1e3),function(){var e=A;e.session.watchStats=e.session.watchStats.filter((function(e,t,n){return t===n.findIndex((function(t){return t.startTime===e.startTime&&t.endTime===e.endTime&&t.startTime!==t.endTime&&e.startTime!==e.endTime}))})),F(e),Y.mutate()}}),[]),(0,s.useEffect)((function(){var e,t=localStorage.getItem("video_options");t&&C(JSON.parse(t)),null!==(e=JSON.parse(t))&&void 0!==e&&e.autoplay&&z(!0)}),[]),(0,s.useEffect)((function(){if(X){l.current.seekTo(Number(X)),z(!0),G(null);var e=A;e.lastWatchedInSeconds=Number(X),e.session.watchStats.push({startTime:e.session.watchStats[e.session.watchStats.length-1].endTime,endTime:Number(X),startTimeStamp:(new Date).getTime(),endTimeStamp:(new Date).getTime()}),F(e)}}),[X]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{style:{position:"relative",paddingTop:"45%"},children:(0,N.jsx)(I.Z,{style:{border:0,maxWidth:"100%",position:"absolute",top:0,left:0,width:"100%",height:"100%"},ref:l,url:null===t||void 0===t?void 0:t.url,width:"100%",height:"100%",onReady:function(){if(h&&a){l.current.seekTo(Number(a.lastWatchedInSeconds));var e=A;e.lastWatchedInSeconds=a.lastWatchedInSeconds,e.session.watchStats[e.session.watchStats.length-1].startTime=a.lastWatchedInSeconds,e.session.watchStats[e.session.watchStats.length-1].startTimeStamp=(new Date).getTime(),F(e)}},onPause:function(){var e=l.current.getCurrentTime();U(L(L({},q),{},(0,x.Z)({},h,e)));var t=A;t.lastWatchedInSeconds=e,t.session.watchStats.push({startTime:t.session.watchStats[t.session.watchStats.length-1].endTime,endTime:e,startTimeStamp:(new Date).getTime(),endTimeStamp:(new Date).getTime()}),F(t)},onProgress:function(){var e=A;if(e.lastWatchedInSeconds=l.current.getCurrentTime(),e.isCompleted=!(null===W||void 0===W||!W.videoProgress.find((function(e){return e===h}))),e.videoLengthInSeconds=T,e.session.watchStats[e.session.watchStats.length-1].endTime=l.current.getCurrentTime(),e.session.watchStats[e.session.watchStats.length-1].endTimeStamp=(new Date).getTime(),F(e),T&&Math.round(l.current.getCurrentTime())>Math.round(T-2)){var t,s,a,u,d;if(W)(null===W||void 0===W?void 0:W.videoProgress.find((function(e){return e===h})))||((0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:(t=e.sent)&&K.mutate(t);case 4:case"end":return e.stop()}}),e)})))(),Q(L(L({},W),{},{videoProgress:[].concat((0,r.Z)(W.videoProgress),[h])})));if(localStorage.setItem("video_options",JSON.stringify({autoplay:!(null===(t=JSON.parse(localStorage.getItem("video_options")))||void 0===t||!t.autoplay)&&JSON.parse(localStorage.getItem("video_options")).autoplay,volume:null!==(s=JSON.parse(localStorage.getItem("video_options")))&&void 0!==s&&s.volume?JSON.parse(localStorage.getItem("video_options")).volume:1,playbackRate:null!==(a=JSON.parse(localStorage.getItem("video_options")))&&void 0!==a&&a.playbackRate?JSON.parse(localStorage.getItem("video_options")).playbackRate:1,isMuted:!(null===(u=JSON.parse(localStorage.getItem("video_options")))||void 0===u||!u.isMuted)&&JSON.parse(localStorage.getItem("video_options")).isMuted})),null!==(d=JSON.parse(localStorage.getItem("video_options")))&&void 0!==d&&d.autoplay){var m=n.findIndex((function(e){return e._id===h}))+1;n[m]&&setTimeout((function(){v.push("/lesson/".concat((0,y.qi)(n[m].title),"/").concat(n[m]._id,"/course/").concat(_,"/").concat(k).concat(w?"/batch/".concat(w):"").concat(""!==o?"bundle"===o?"?type=bundle":"roadmap"===o?"?type=roadmap":"":""))}),2e3)}}},onDuration:function(e){R(e)},onSeek:function(e){var t=A;t.lastWatchedInSeconds=e,t.session.watchStats.push({startTime:t.session.watchStats[t.session.watchStats.length-1].endTime,endTime:e,startTimeStamp:(new Date).getTime(),endTimeStamp:(new Date).getTime()}),F(t)},playbackRate:D.playbackRate,volume:D.volume,muted:D.isMuted,playing:J,onPlay:function(){return z(!0)},controls:!0})}),(0,N.jsx)(p.Ix,{theme:"dark"})]})};M.defaultProps={videoData:null,allVideos:null,accessType:null,videoStats:null};var A=M,F=n(8379),V=n.n(F),B=n(7913),W=n(9196),Q=n.n(W),H=n(6250),q=n(4346);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}var J=function(e){var t=e.lessonSections,n=e.submissions,o=e.accessType,a=(0,u.useRouter)(),v=a.query.slug,h=v[1],_=v[3],j=v[4],k=v[6]?v[6]:null,w=(0,m.xX)().executeRecaptcha,S=(0,s.useState)(t),O=S[0],D=S[1],C=(0,s.useState)([]),P=C[0],T=C[1],I=(0,s.useState)(null),R=I[0],L=I[1],Z=(0,s.useState)([]),E=Z[0],M=Z[1],A=(0,s.useState)(!1),F=A[0],W=A[1],J=(0,s.useState)(null),z=J[0],X=J[1],G=1,K=(0,d.useQuery)("getCurrentUserDetails",g.$8).data,Y=function(){var e=(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,w("MarkVideoProgress");case 4:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=(0,s.useContext)(b),ee=$.videoProgressData,te=$.setVideoProgressData;(0,s.useEffect)((function(){var e;(null===ee||void 0===ee||null===(e=ee.videoProgress)||void 0===e?void 0:e.length)>0&&T(ee.videoProgress.map((function(e){return{done:!0,lessonId:e}})))}),[ee]),(0,s.useEffect)((function(){if(O){var e=O.map((function(e){return e.lessons.filter((function(e){return e._id===h}))})).findIndex((function(e){return e.length>0}));M(O.map((function(t,n){return n===e?{open:!0,height:"auto"}:{open:!1,height:0}})));var t=document.getElementById(h);setTimeout((function(){t.scrollIntoView()}),1e3)}}),[O]);var ne=(0,d.useQuery)(["getLiveUpcomingClass",j],(function(){return(0,g.Qz)(j)})).data;(0,s.useEffect)((function(){var e,t;ne&&""!==(null===ne||void 0===ne?void 0:ne.title)&&""!==(null===ne||void 0===ne||null===(e=ne.data)||void 0===e?void 0:e.url)&&(D([{title:"Live Class Section",lessons:[{_id:ne._id,title:ne.title,type:"live",classUrl:null===ne||void 0===ne||null===(t=ne.data)||void 0===t?void 0:t.url}]}].concat((0,r.Z)(O))),M([{open:!1,height:0}].concat((0,r.Z)(E))))}),[ne]);var se=(0,d.useMutation)((function(e){return(0,g.mC)(j,R.done,R.lessonId,e)}),{onSuccess:function(e){L(null),p.Am.success(e,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},onError:function(e){p.Am.error(e.message,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}}),oe=function(e){var t=P.findIndex((function(t){return t.lessonId===e.target.id}));-1!==t?(T((function(e){var n=(0,r.Z)(e);return n[t].done=!n[t].done,n})),L({done:e.target.checked,lessonId:e.target.id}),te((function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,x.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);return n.videoProgress=(0,r.Z)(n.videoProgress),n.videoProgress.includes(e.target.id)&&n.videoProgress.splice(n.videoProgress.indexOf(e.target.id),1),e.target.checked&&n.videoProgress.push(e.target.id),n}))):(P.push({done:!0,lessonId:e.target.id}),L({done:!0,lessonId:e.target.id}))};(0,s.useEffect)((function(){R&&(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:(t=e.sent)&&se.mutate(t);case 4:case"end":return e.stop()}}),e)})))()}),[R]);var re=function(){W(!0)},ie=function(e,t){n&&n.find((function(t){return t.lessonId===e}))?X({assignmentId:e,assignmentTitle:t,assignmentSubmission:n.find((function(t){return t.lessonId===e}))}):X({assignmentId:e,assignmentTitle:t,assignmentSubmission:null})},ae=function(e,t,n){(0,q.e)("sk_journey_click",{user_id:K._id,user_name:"".concat(K.firstName," ").concat(K.lastName),user_email:K.email,user_phonenumber:"".concat(K.isdCode," ").concat(K.phoneNumber),course_name:(0,y.rn)(_),course_id:j,section_name:e,content_name:t,content_type:n})};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:Q()["lesson-list"],children:[(0,N.jsxs)("div",{className:"".concat(Q()["social-fixed"]),children:[" ",(0,N.jsxs)("div",{className:"".concat(Q()["social-header"]," ").concat(f().flex),children:[(0,N.jsx)("span",{className:Q()["social-title"],children:"Social media"}),(0,N.jsxs)("div",{className:"".concat(Q()["social-logos"]),children:[(0,N.jsx)("a",{href:"https://www.facebook.com/pwskills",rel:"noopener noreferrer",target:"_blank",children:(0,N.jsx)("img",{src:"/images/social-media/facebook.svg",alt:"facebook",className:"fb-logo"})}),(0,N.jsx)("a",{href:"https://www.instagram.com/pwcollegewallah",rel:"noopener noreferrer",target:"_blank",children:(0,N.jsx)("img",{src:"/images/social-media/instagram.svg",alt:"instagram"})}),(0,N.jsx)("a",{href:"https://t.me/SkillsPW",rel:"noopener noreferrer",target:"_blank",children:(0,N.jsx)("img",{src:"/images/social-media/telegram.svg",alt:"telegram"})}),(0,N.jsx)("a",{href:"https://www.youtube.com/channel/UCDrf0V4fcBr5FlCtKwvpfwA",rel:"noopener noreferrer",target:"_blank",children:(0,N.jsx)("img",{src:"/images/social-media/youtube.svg",alt:"youtube"})}),(0,N.jsx)("a",{href:"https://twitter.com/pw__skills",rel:"noopener noreferrer",target:"_blank",children:(0,N.jsx)("img",{src:"/images/social-media/twitter.svg",alt:"twitter"})}),(0,N.jsx)("a",{href:"https://www.linkedin.com/company/ineuron-ai",rel:"noopener noreferrer",target:"_blank",children:(0,N.jsx)("img",{src:"/images/social-media/linkedin.svg",alt:"linkedin"})}),(0,N.jsx)("a",{href:"https://discord.com/invite/wyEAPaQEBN",rel:"noopener noreferrer",target:"_blank",children:(0,N.jsx)("img",{src:"/images/social-media/discord.svg",alt:"discord"})})]})]})]}),O&&O.map((function(e,t){var s,i;return(0,N.jsxs)("div",{className:Q().section,children:[(0,N.jsxs)("div",{className:"".concat(Q()["section-header"]," ").concat(f().flex),"aria-hidden":"true",onClick:function(){return function(e){var t=document.getElementsByClassName(Q()["section-header"])[e].nextElementSibling,n=(0,r.Z)(E);n[e]={open:!E[e].open,height:"0px"===t.style.height?"".concat(t.scrollHeight,"px"):0},M(n)}(t)},children:[(0,N.jsxs)("div",{className:Q()["section-title"],children:[(0,N.jsx)("span",{children:e.title}),(0,N.jsx)("br",{}),(0,N.jsxs)("span",{children:[e.lessons.filter((function(e){return"live"===e.type})).length>0?"".concat(e.lessons.filter((function(e){return"live"===e.type})).length," link"):null,e.lessons.filter((function(e){return"video"===e.type})).length>1?"".concat(e.lessons.filter((function(e){return"video"===e.type})).length," videos"):1===e.lessons.filter((function(e){return"video"===e.type})).length?"".concat(e.lessons.filter((function(e){return"video"===e.type})).length," video"):null,e.lessons.filter((function(e){return"video"===e.type})).length>0&&e.lessons.filter((function(e){return"assignment"===e.type})).length>0?",":null," ",e.lessons.filter((function(e){return"assignment"===e.type})).length>1?"".concat(e.lessons.filter((function(e){return"assignment"===e.type})).length," assignments"):1===e.lessons.filter((function(e){return"assignment"===e.type})).length?"".concat(e.lessons.filter((function(e){return"assignment"===e.type})).length," assignment"):null,e.lessons.filter((function(e){return"video"===e.type})).length>0&&e.lessons.filter((function(e){return"assignment"===e.type})).length>0&&e.lessons.filter((function(e){return"quiz"===e.type})).length>0?",":null," ",e.lessons.filter((function(e){return"quiz"===e.type})).length>1?"".concat(e.lessons.filter((function(e){return"quiz"===e.type})).length," quizzes"):1===e.lessons.filter((function(e){return"quiz"===e.type})).length?"".concat(e.lessons.filter((function(e){return"quiz"===e.type})).length," quiz"):null,e.lessons.filter((function(e){return"video"===e.type})).length>0&&e.lessons.filter((function(e){return"assignment"===e.type})).length>0&&e.lessons.filter((function(e){return"quiz"===e.type})).length>0&&e.lessons.filter((function(e){return"sectionResource"===e.type})).length>0?",":null," ",e.lessons.filter((function(e){return"sectionResource"===e.type})).length>1?"".concat(e.lessons.filter((function(e){return"sectionResource"===e.type})).length," resources"):1===e.lessons.filter((function(e){return"sectionResource"===e.type})).length?"".concat(e.lessons.filter((function(e){return"sectionResource"===e.type})).length," resource"):null]})]}),null!==E&&void 0!==E&&E.length?null!==(s=E[t])&&void 0!==s&&s.open?(0,N.jsx)("i",{className:"fas fa-chevron-up"}):(0,N.jsx)("i",{className:"fas fa-chevron-down"}):null]}),(0,N.jsx)("div",{className:Q()["section-list"],style:{height:null!==E&&void 0!==E&&E.length?null===(i=E[t])||void 0===i?void 0:i.height:0},children:(0,N.jsxs)("ul",{children:[e.lessons.filter((function(e){return"live"===e.type})).map((function(t){return(0,N.jsx)("li",{id:t._id,className:t._id===h?Q().active:"",onClick:function(){ae(e.title,null===t||void 0===t?void 0:t.title,null===t||void 0===t?void 0:t.type),window.open(t.classUrl,"_blank")},"aria-hidden":"true",children:(0,N.jsx)("div",{className:"".concat(Q()["section-list-video"]," ").concat(Q()["section-list-resource"]," ").concat(f().flex),children:(0,N.jsxs)("div",{className:Q()["section-list-video-detail"],children:[(0,N.jsx)("a",{href:t.classUrl,target:"_blank",rel:"noopener noreferrer",children:(0,N.jsxs)("span",{children:[(0,N.jsx)("i",{className:"fas fa-link"})," ",t.title]})}),(0,N.jsx)("br",{}),(0,N.jsx)("span",{children:"Class Link"})]})})},V()())})),e.lessons.map((function(t){var s,r,i;return"video"===t.type?(0,N.jsx)("li",{id:t._id,className:t._id===h?Q().active:"",onClick:function(){ae(e.title,null===t||void 0===t?void 0:t.title,null===t||void 0===t?void 0:t.type),a.push("/lesson/".concat((0,y.qi)(t.title),"/").concat(t._id,"/course/").concat(_,"/").concat(j).concat(k?"/batch/".concat(k):"").concat(""!==o?"bundle"===o?"?type=bundle":"roadmap"===o?"?type=roadmap":"":""))},"aria-hidden":"true",children:(0,N.jsxs)("div",{className:"".concat(Q()["section-list-video"]," ").concat(Q()["section-list-resource"]," ").concat(f().flex),children:[(0,N.jsxs)("div",{className:Q()["section-list-video-detail"],children:[(0,N.jsx)(l.default,{href:"/lesson/".concat((0,y.qi)(t.title),"/").concat(t._id,"/course/").concat(_,"/").concat(j).concat(k?"/batch/".concat(k):"").concat(""!==o?"bundle"===o?"?type=bundle":"roadmap"===o?"?type=roadmap":"":""),passHref:!0,children:(0,N.jsx)("a",{href:"/!#",children:(0,N.jsxs)("span",{children:[G++,". ",t.title]})})}),(0,N.jsx)("br",{}),(null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.duration)&&(0,N.jsxs)("span",{children:[(0,N.jsx)("i",{className:"far fa-play-circle"})," ",(0,y.eC)(null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.duration)]})]}),(0,N.jsx)("input",{id:t._id,type:"checkbox",name:"video-check",onChange:oe,checked:P.length>0&&(null===(i=P.find((function(e){return e.lessonId===t._id})))||void 0===i?void 0:i.done)})]})},V()()):"assignment"===t.type?(0,N.jsx)("li",{id:t._id,className:t._id===h?Q().active:"",onClick:function(){ae(e.title,null===t||void 0===t?void 0:t.title,null===t||void 0===t?void 0:t.type),ie(t._id,t.title),re()},"aria-hidden":"true",children:(0,N.jsx)("div",{className:"".concat(Q()["section-list-video"]," ").concat(Q()["section-list-resource"]," ").concat(f().flex),children:(0,N.jsxs)("div",{className:Q()["section-list-video-detail"],children:[(0,N.jsxs)("span",{onClick:function(){ie(t._id,t.title),re()},style:{display:"flex",alignItems:"flex-end",columnGap:"10px",rowGap:0},"aria-hidden":"true",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("i",{className:"fas fa-file-alt"})," ",t.title]})," ",n&&n.find((function(e){return e.lessonId===t._id}))&&(0,N.jsx)("span",{className:"".concat(Q().status," ").concat(n.find((function(e){return e.lessonId===t._id})).marked?Q().marked:Q().submitted),children:n.find((function(e){return e.lessonId===t._id})).marked?"Marked":"Submitted"})]}),(0,N.jsx)("br",{}),(0,N.jsx)("span",{style:{marginTop:0},children:"Assignment"})]})})},V()()):"quiz"===t.type?(0,N.jsx)("li",{id:t._id,className:t._id===h?Q().active:"",onClick:function(){ae(e.title,null===t||void 0===t?void 0:t.title,null===t||void 0===t?void 0:t.type),window.open("/quiz/".concat((0,y.qi)(t.title),"/").concat(t._id,"/course/").concat(_,"/").concat(j).concat(k?"/batch/".concat(k):"").concat(""!==o?"bundle"===o?"?type=bundle":"roadmap"===o?"?type=roadmap":"":""))},"aria-hidden":"true",children:(0,N.jsx)("div",{className:"".concat(Q()["section-list-video"]," ").concat(Q()["section-list-resource"]," ").concat(f().flex),children:(0,N.jsxs)("div",{className:Q()["section-list-video-detail"],children:[(0,N.jsx)(l.default,{href:"/quiz/".concat((0,y.qi)(t.title),"/").concat(t._id,"/course/").concat(_,"/").concat(j).concat(k?"/batch/".concat(k):"").concat(""!==o?"bundle"===o?"?type=bundle":"roadmap"===o?"?type=roadmap":"":""),passHref:!0,children:(0,N.jsx)("a",{href:"/!#",target:"_blank",rel:"noopener noreferrer",children:(0,N.jsxs)("span",{style:{display:"flex",alignItems:"flex-end",columnGap:"10px",rowGap:0},children:[(0,N.jsxs)("div",{children:[n&&n.find((function(e){return e.lessonId===t._id}))?(0,N.jsx)("span",{"data-tip":"Reattempt Quiz",children:(0,N.jsx)("i",{className:"fas fa-redo"})}):(0,N.jsx)("i",{className:"fas fa-question-circle"})," ",t.title]}),n&&n.find((function(e){return e.lessonId===t._id}))&&(0,N.jsx)("span",{className:"".concat(Q().status," ").concat(Q().marked),children:"Completed"})]})})}),(0,N.jsx)("br",{}),(0,N.jsx)("span",{style:{marginTop:0},children:"Quiz"})]})})},V()()):"sectionResource"===t.type?(0,N.jsx)("li",{id:t._id,className:t._id===h?Q().active:"",onClick:function(){ae(e.title,null===t||void 0===t?void 0:t.title,null===t||void 0===t?void 0:t.type),window.open(t.data.resourceURL,"_blank")},"aria-hidden":"true",children:(0,N.jsx)("div",{className:"".concat(Q()["section-list-video"]," ").concat(Q()["section-list-resource"]," ").concat(f().flex),children:(0,N.jsxs)("div",{className:Q()["section-list-video-detail"],children:[(0,N.jsx)(l.default,{href:t.data.resourceURL,passHref:!0,children:(0,N.jsx)("a",{href:"/!#",target:"_blank",rel:"noopener noreferrer",children:(0,N.jsxs)("span",{children:[(0,N.jsx)("i",{className:"fas fa-link"})," ",t.title]})})}),(0,N.jsx)("br",{}),(0,N.jsx)("span",{children:"Resource"})]})})},V()()):null}))]})})]},V()())}))]}),t.map((function(e){return e.lessons.find((function(e){return"assignment"===e.type}))})).filter((function(e){return"undefined"!==typeof e})).length>0&&(0,N.jsx)(H.Z,{open:F,onClose:function(){W(!1)},assignmentDetails:z}),(0,N.jsx)(B.Z,{effect:"solid"}),(0,N.jsx)(p.Ix,{theme:"dark"})]})};J.defaultProps={lessonSections:null,submissions:null,accessType:null};var z=J,X=n(5675),G=n(6870),K=n.n(G),Y=n(1655),$=n(2558),ee=n.n($),te=n(525),ne=n.n(te);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,x.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(e){var t=e.id,n=e.commentId,o=e.courseName,r=e.courseId,a=e.lessonName,l=e.lessonId,u=e.refetchReplyComments,p=e.accessType,v=e.closeReplyBox,h=(0,m.xX)().executeRecaptcha,_=(0,s.useState)({comment:"",replyToComment:n}),x=_[0],b=_[1],j=(0,s.useState)(""),k=j[0],w=j[1],S=(0,s.useState)(null),O=S[0],D=S[1],C=(0,d.useQuery)("getCurrentUserDetails",g.$8).data,P=function(){var e=(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,h("AddDiscussionReply");case 4:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=(0,d.useMutation)((function(e){return(0,g.Ir)(r,l,x,e,p)}),{onSuccess:function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,q.e)("sk_reply",{user_id:C._id,user_name:"".concat(C.firstName," ").concat(C.lastName),user_email:C.email,user_phonenumber:"".concat(C.isdCode," ").concat(C.phoneNumber),comment_id:n,reply_id:t._id,reply:t.comment,course_name:(0,y.rn)(o),course_id:r,lesson_name:(0,y.rn)(a),lesson_id:l}),b(oe(oe({},x),{},{comment:""})),w(""),D({});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e){w(e.message)}});return(0,s.useEffect)((function(){O&&(u(n),D(null))}),[O,u,n]),(0,N.jsx)("form",{onSubmit:function(e){return e.preventDefault(),x.comment.replace(/\s/g,"").length?((0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:(t=e.sent)&&T.mutate(t);case 4:case"end":return e.stop()}}),e)})))(),!0):(w("Please enter a comment"),!1)},children:(0,N.jsxs)("div",{id:t,className:ee()["reply-box"],children:[(0,N.jsx)("textarea",{rows:"3",placeholder:"Reply here...",className:""!==k?ee().error:"",value:x.comment,onChange:function(e){w(""),b(oe(oe({},x),{},{comment:e.target.value}))}}),(0,N.jsxs)("div",{className:f().flex,children:[(0,N.jsx)("div",{className:ee()["error-text"],children:k}),(0,N.jsxs)("div",{className:ee()["reply-buttons"],children:[(0,N.jsx)("button",{type:"button",className:"".concat(f().btn," ").concat(f()["btn-primary-outline"]),onClick:function(){return v(n)},children:"Cancel"}),(0,N.jsx)("button",{type:"submit",className:"".concat(f().btn," ").concat(f()["btn-primary"]),disabled:""===x.comment||T.isLoading,children:T.isLoading?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(ne(),{radius:20,color:"#ffffff",stroke:2,visible:!0})," Replying..."]}):"Reply"})]})]})]})})};re.defaultProps={courseName:null,courseId:null,lessonName:null,lessonId:null,accessType:null};var ie=re,ae=n(6272);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,x.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e){var t=e.courseName,n=e.courseId,o=e.lessonName,r=e.lessonId,a=e.userData,l=e.refetchComments,u=e.accessType,p=e.timeStamp,v=(0,m.xX)().executeRecaptcha,h=(0,s.useContext)(j).setToggleVideo,_=(0,s.useState)({comment:""}),x=_[0],b=_[1],k=(0,s.useState)(""),w=k[0],S=k[1],O=(0,s.useState)(null),D=O[0],C=O[1],P=function(){var e=(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,v("AddDoubt");case 4:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=(0,d.useMutation)((function(e){return(0,g.Ir)(n,r,le(le({},x),{},{timeStamp:p}),e,u)}),{onSuccess:function(){var e=(0,i.Z)(c().mark((function e(s){var i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,q.e)("sk_comment",{user_id:a._id,user_name:"".concat(a.firstName," ").concat(a.lastName),user_email:a.email,user_phonenumber:"".concat(a.isdCode," ").concat(a.phoneNumber),comment_id:s._id,comment:s.comment,course_name:(0,y.rn)(t),course_id:n,lesson_name:(0,y.rn)(o),lesson_id:r}),b({comment:""}),S(""),C({_id:s._id,comment:s.comment,userId:s.userId,doubtStatus:null===s||void 0===s?void 0:s.doubtStatus,likeCount:null===s||void 0===s?void 0:s.likeCount,timeStamp:null===s||void 0===s?void 0:s.timeStamp,userDetails:{email:null===s||void 0===s||null===(i=s.userDetails)||void 0===i?void 0:i.email,firstName:null===a||void 0===a?void 0:a.firstName,lastName:null===a||void 0===a?void 0:a.lastName,img:null===a||void 0===a?void 0:a.img},repliesCount:0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e){S(e.message)}});return(0,s.useEffect)((function(){D&&(l(D),C(null))}),[D,l]),(0,N.jsx)("form",{onSubmit:function(e){return e.preventDefault(),x.comment.replace(/\s/g,"").length?((0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:(t=e.sent)&&T.mutate(t);case 4:case"end":return e.stop()}}),e)})))(),!0):(S("Please enter a comment"),!1)},children:(0,N.jsxs)("div",{className:ee()["comment-box"],children:[(0,N.jsx)("textarea",{className:""!==w?ee().error:"",value:x.comment,onChange:function(e){S(""),b({comment:e.target.value})},onFocus:function(){return h(!1)},rows:"4",placeholder:"Ask your doubt..."}),(0,N.jsxs)("div",{className:f().flex,children:[(0,N.jsx)("span",{className:ee()["error-text"],children:w}),(0,N.jsx)("button",{type:"submit",className:"".concat(f().btn," ").concat(f()["btn-primary"]),disabled:""===x.comment||T.isLoading,children:T.isLoading?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(ne(),{radius:20,color:"#ffffff",stroke:2,visible:!0})," Commenting..."]}):"Ask Doubt"})]})]})})};ue.defaultProps={courseName:null,courseId:null,lessonName:null,lessonId:null,userData:null,accessType:null};var de=ue,me=n(2067),pe=n.n(me),ve=n(7283);function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,x.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=(0,ve.Z)((function(e){var t=e.open,n=e.onClose,o=e.reportReasonList,a=e.reportCommentId,l=e.lessonId,u=e.courseId,v=e.replyReportId,h=e.setReplyReportId,_=(0,m.xX)().executeRecaptcha,x=(0,s.useState)({reportType:[],text:""}),b=x[0],j=x[1];(0,s.useEffect)((function(){document.getElementById("doubt-modal").style.display=t?"flex":"none"}),[t]);var k=function(e){document.getElementById("doubt-modal").style.display="none",h({id:null,isReplyReport:!1}),n(e)},w=function(){var e=(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,_("test");case 4:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=(0,d.useMutation)((function(e){return(0,g._0)(u,l,null!==v&&void 0!==v&&v.isReplyReport?null===v||void 0===v?void 0:v.id:a,e,b)}),{onSuccess:function(){p.Am.success("".concat("Report recorded successfully"),{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),k("reportModalOpen"),j({reportType:[],text:""}),h({id:null,isReplyReport:!1})},onError:function(){p.Am.error("".concat("You have already reported"),{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),j({reportType:[],text:""}),h({id:null,isReplyReport:!1}),k("reportModalOpen")}}),O=function(e){var t=e.target.value;if(e.target.checked)j(he(he({},b),{},{reportType:[].concat((0,r.Z)(b.reportType),[t])}));else{var n,s=(0,r.Z)(b.reportType);s=null===(n=s)||void 0===n?void 0:n.filter((function(e){return e!==t})),j(he(he({},b),{},{reportType:s}))}};return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{id:"doubt-modal",className:"".concat(f().modal," ").concat(f()["modal-center"]),children:[(0,N.jsxs)("div",{className:"".concat(f()["modal-content-sm"]," ").concat(f().card),children:[(0,N.jsxs)("div",{className:f()["modal-content-header"],children:["What is the issue?",(0,N.jsx)("i",{className:"fas fa-times",onClick:function(){return k("reportModalOpen")},"aria-hidden":"true"})]}),(0,N.jsxs)("div",{className:f()["modal-content-body"],children:[(0,N.jsx)("div",{className:pe()["reason-wrapper"],children:(null===o||void 0===o?void 0:o.length)>0&&(null===o||void 0===o?void 0:o.map((function(e){return(0,N.jsxs)("label",{className:pe()["form-section"],children:[(0,y.Uw)(e),(0,N.jsx)("input",{onChange:O,value:e,type:"checkbox"}),(0,N.jsx)("span",{className:pe().checkmark})]},e)})))}),(0,N.jsxs)("div",{children:[(0,N.jsx)("textarea",{rows:6,placeholder:"Additional comments",className:pe()["comment-box"],onChange:function(e){var t=e.target.value;j(he(he({},b),{},{text:t}))},value:b.text}),(0,N.jsx)("button",{onClick:function(){null===a&&null===(null===v||void 0===v?void 0:v.id)||(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:(t=e.sent)&&S.mutate(t);case 4:case"end":return e.stop()}}),e)})))()},className:"".concat(f().btn," ").concat(f()["btn-primary"]),type:"button",style:{float:"right"},disabled:0===b.reportType.length,children:"Submit"})]})]})]}),(0,N.jsx)(p.Ix,{theme:"dark"})]})})}));function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){(0,x.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=(0,ve.Z)((function(e){var t,n=e.open,o=e.onClose,a=e.notResolvedList,l=e.reportCommentId,u=e.lessonId,v=e.courseId,h=e.onUserActionSuccess,_=(0,s.useState)({status:"unresolved",unresolve:{type:[],text:""}}),x=_[0],b=_[1],j=(0,m.xX)().executeRecaptcha;(0,s.useEffect)((function(){document.getElementById("resolved-modal").style.display=n?"flex":"none"}),[n]);var k=function(e){document.getElementById("resolved-modal").style.display="none",o(e)},w=function(){var e=(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,j("test");case 4:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=(0,d.useMutation)((function(){return(0,g.uC)(v,u,l,x)}),{onSuccess:function(e){var t=e||"Report recorded successfully";h(),p.Am.success("".concat(t),{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),k("notResolvedModal"),b({status:"unresolved",unresolve:{type:[],text:""}})},onError:function(e){var t=e||"something went wrong";p.Am.warn("".concat(t),{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),b({status:"unresolved",unresolve:{type:[],text:""}})}}),O=function(e){var t=e.target.value;if(e.target.checked)b(ge(ge({},x),{},{unresolve:ge(ge({},x.unresolve),{},{type:[].concat((0,r.Z)(x.unresolve.type),[t])})}));else{var n,s=(0,r.Z)(x.unresolve.type);s=null===(n=s)||void 0===n?void 0:n.filter((function(e){return e!==t})),b(ge(ge({},x),{},{unresolve:ge(ge({},x.unresolve),{},{type:s})}))}};return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{id:"resolved-modal",className:"".concat(f().modal," ").concat(f()["modal-center"]),children:[(0,N.jsxs)("div",{className:"".concat(f()["modal-content-sm"]," ").concat(f().card),children:[(0,N.jsxs)("div",{className:f()["modal-content-header"],children:["What is the issue?",(0,N.jsx)("i",{className:"fas fa-times",onClick:function(){return k("notResolvedModal")},"aria-hidden":"true"})]}),(0,N.jsxs)("div",{className:f()["modal-content-body"],children:[(0,N.jsx)("div",{className:pe()["reason-wrapper"],children:(null===a||void 0===a?void 0:a.length)>0&&(null===a||void 0===a?void 0:a.map((function(e){return(0,N.jsxs)("label",{className:pe()["form-section"],children:[(0,y.Uw)(e),(0,N.jsx)("input",{onChange:O,value:e,type:"checkbox"}),(0,N.jsx)("span",{className:pe().checkmark})]},e)})))}),(0,N.jsxs)("div",{children:[(0,N.jsx)("textarea",{rows:6,placeholder:"Additional comments",className:pe()["comment-box"],onChange:function(e){var t=e.target.value;b(ge(ge({},x),{},{unresolve:ge(ge({},x.unresolve),{},{text:t})}))},value:null===x||void 0===x||null===(t=x.unresolve)||void 0===t?void 0:t.text}),(0,N.jsx)("button",{onClick:function(){null!==l&&(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:(t=e.sent)&&S.mutate(t);case 4:case"end":return e.stop()}}),e)})))()},className:"".concat(f().btn," ").concat(f()["btn-primary"]),type:"button",style:{float:"right"},disabled:0===x.unresolve.type.length,children:"Submit"})]})]})]}),(0,N.jsx)(p.Ix,{theme:"dark"})]})})})),je=(0,ve.Z)((function(e){var t=e.open,n=e.onClose,o=e.commentId,r=e.lessonId,i=e.courseId,a=e.onUserActionSuccess;(0,s.useEffect)((function(){document.getElementById("resolved-modal").style.display=t?"flex":"none"}),[t]);var c=function(e){document.getElementById("resolved-modal").style.display="none",n(e)},l=(0,d.useMutation)((function(){return(0,g.uC)(i,r,o,{status:"resolved"})}),{onSuccess:function(){a(),p.Am.success("Doubt resolved successfully",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),c("resolvedModal")},onError:function(){p.Am.warn("".concat("Doubt cannot be resolved as there is no reply"),{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),c("resolvedModal")}});return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{id:"resolved-modal",className:"".concat(f().modal," ").concat(f()["modal-center"]),children:[(0,N.jsxs)("div",{className:"".concat(f()["modal-content-sm"]," ").concat(f().card),children:[(0,N.jsxs)("div",{className:f()["modal-content-header"],children:["Doubt Resolved ?",(0,N.jsx)("i",{className:"fas fa-times",onClick:function(){return c("resolvedModal")},"aria-hidden":"true"})]}),(0,N.jsxs)("div",{className:"".concat(f()["modal-content-body"]," ").concat(pe()["modal-body"]),children:[(0,N.jsx)("div",{children:"Do you want to resolve your doubt?"}),(0,N.jsxs)("section",{className:pe()["button-group"],children:[(0,N.jsx)("button",{onClick:function(){return l.mutate()},type:"button",className:"".concat(f().btn," ").concat(f()["btn-primary"]),children:"Yes"}),(0,N.jsx)("button",{onClick:function(){return c("resolvedModal")},type:"button",className:"".concat(f().btn," ").concat(f()["btn-secondary"]),children:"No"})]})]})]}),(0,N.jsx)(p.Ix,{theme:"dark"})]})})})),ye="/_next/static/image/public/images/pw_logo.930959486af5a847101fe696a4bf5dc3.png";function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){(0,x.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=[],Se=0,Oe=null,De={skip:0,limit:3},Ce=-1,Pe=!0,Te=!1,Ie=!0,Re=function(e){var t,n,o,a=e.scrollToVideo,l=(0,u.useRouter)().query,v=l.slug,h=l.type,_=v[0],b=v[1],k=v[3],w=v[4],S="bundle"===h||"roadmap"===h?h:"",O=(0,m.xX)().executeRecaptcha,D=(0,d.useQueryClient)(),C=(0,s.useState)(we),P=C[0],T=C[1],I=(0,s.useState)(Pe),R=I[0],L=I[1],Z=(0,s.useState)(Ce),E=Z[0],M=Z[1],A=(0,s.useState)(null),F=A[0],B=A[1],W=(0,s.useState)({}),Q=W[0],H=W[1],q=(0,s.useState)({}),U=q[0],J=q[1],z=(0,s.useState)({}),G=z[0],K=z[1],$=(0,s.useState)(null),te=$[0],ne=$[1],se=(0,s.useState)(Te),oe=se[0],re=se[1],ce=(0,s.useState)(0),le=ce[0],ue=ce[1],me=(0,s.useState)({reportModalOpen:!1,notResolvedModal:!1,resolvedModal:!1}),pe=me[0],ve=me[1],fe=(0,s.useState)(["content_is_irrelevant","content_is_ambiguous","content_is_suspicious"])[0],he=(0,s.useState)(null),xe=he[0],ge=he[1],Ne=(0,s.useState)(["not_satisfied","need_more_clarity"])[0],Re=(0,s.useState)({id:null,isReplyReport:!1}),Le=Re[0],Ze=Re[1],Ee=(0,s.useContext)(j),Me=Ee.notesData,Ae=Ee.toggleVideo,Fe=Ee.setToggleVideo,Ve=Ee.setSeekTimeStamp,Be=function(){var e=(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,O("DeleteDoubt");case 4:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),We=function(e){ve(ke(ke({},pe),{},(0,x.Z)({},e,!1)))};(0,s.useEffect)((function(){b in Me&&ue(Me[b])}),[Me]);var Qe=(0,d.useQuery)("getCurrentUserDetails",g.$8).data,He=(0,d.useInfiniteQuery)(["getLessonComments",w,b,E,S],(function(e){var t=e.pageParam,n=void 0===t?De.skip:t;return(0,g.li)(w,b,n,De.limit,E,S)}),{onSuccess:function(){var e=(0,i.Z)(c().mark((function e(t){var n,s,o,i,a,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(!1),Pe=!1,Ie=!0,Oe={lessonId:b,courseId:w},T([].concat((0,r.Z)(P),(0,r.Z)(t.pages[Se]))),we=[].concat((0,r.Z)(we),(0,r.Z)(t.pages[Se])),n=t.pages[Se].reduce((function(e,t){return ke(ke({},e),{},(0,x.Z)({},t._id,[]))}),{}),s=t.pages[Se].reduce((function(e,t){return ke(ke({},e),{},(0,x.Z)({},t._id,!1))}),{}),o=t.pages[Se].reduce((function(e,t){return ke(ke({},e),{},(0,x.Z)({},t._id,!1))}),{}),H(ke(ke({},Q),n)),J(ke(ke({},U),s)),K(ke(ke({},G),o)),Se+=1,De=ke(ke({},De),{},{skip:De.skip+De.limit}),i=Object.keys(G).forEach((function(e){G[e]=!1})),a=Object.keys(Q).forEach((function(e){Q[e]=!1})),l=Object.keys(U).forEach((function(e){U[e]=!1})),K({resetOpenReplyBox:i}),H({resetReplyList:a}),J({resetReplyOpen:l});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getNextPageParam:function(e){return e.length<3||0===e.length?(Ie=!1,!1):De.skip},enabled:R}),qe=He.data,Ue=He.fetchNextPage,Je=He.hasNextPage,ze=He.isFetchingNextPage;(0,s.useEffect)((function(){!Oe||Oe.lessonId===b&&Oe.courseId===w||(T([]),we=[],Se=0,De={skip:0,limit:3},Ce=-1,Ie=!0,L(!0),Pe=!0,setTimeout((function(){D.resetQueries(["getLessonComments",w,b,E,S],{exact:!0})}),0))}),[w,b]);var Xe=function(e){K(ke(ke({},G),{},(0,x.Z)({},e,!1)))},Ge=function(e){var t;re(!0);var n=(0,r.Z)(P);n=null===(t=n)||void 0===t?void 0:t.map((function(t){return t._id===e&&(t.repliesCount<0?t.repliesCount:t.repliesCount+=1),t})),T(n)},Ke=(0,d.useMutation)((function(e){return(0,g.YF)(w,b,F,e,S)}),{onSuccess:function(){var e=(0,i.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(P.filter((function(e){return e._id!==F}))),we=we.filter((function(e){return e._id!==F})),(t=(0,r.Z)(P.filter((function(e){return e._id!==F}))))[0].repliesCount-=1,T(t),De=ke(ke({},De),{},{skip:De.skip-1}),Object.keys(Q).find((function(e){return Q[e].find((function(e){return e.reply._id===F}))}))&&(n=Q[te].filter((function(e){return e.reply._id!==F})),H(ke(ke({},Q),{},(0,x.Z)({},te,n)))),0===P.length&&0===we.length&&Ue();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),Ye=function(){(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be();case 2:(t=e.sent)&&Ke.mutate(t);case 4:case"end":return e.stop()}}),e)})))()},$e=function(e){ne(e)},et=((0,d.useQuery)(["getUserCommentReplies",w,b,0,1e4,te,S],(function(){return(0,g.fx)(w,b,0,1e4,te,S)}),{onSuccess:function(e){te in Q&&(H(ke(ke({},Q),{},(0,x.Z)({},te,(0,r.Z)(e)))),J(ke(ke({},U),{},(0,x.Z)({},te,!0)))),re(!1),Te=!1},enabled:oe}).data,function(){T([]),we=[],Se=0,De={skip:0,limit:null===P||void 0===P?void 0:P.length},Ce=-1,Ie=!0,L(!0),Pe=!0}),tt=function(e){p.Am.warn("".concat(e),{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},nt=function(e){var t=[];return null!==e&&void 0!==e&&e.isSuspicious&&t.push({class:"suspicious",name:"Suspicious"}),null!==e&&void 0!==e&&e.doubtStatus&&"open"!==(null===e||void 0===e?void 0:e.doubtStatus)&&"unresolved"!==(null===e||void 0===e?void 0:e.doubtStatus)&&t.push({class:e.doubtStatus,name:null===e||void 0===e?void 0:e.doubtStatus}),t},st=function(e){var t=[];return null!==e&&void 0!==e&&e.isSuspicious&&t.push({class:"suspicious",name:"Suspicious"}),t},ot=(0,d.useMutation)((function(e){return(0,g.ar)(w,b,e)}),{onSuccess:et,onError:tt}),rt=(0,d.useMutation)((function(e){return(0,g.ar)(w,b,e)}),{onSuccess:function(){re(!0)},onError:tt});return(0,N.jsxs)("div",{className:ee().discussion,children:[(0,N.jsxs)("div",{className:"".concat(ee().comment," ").concat(f().flex),children:[Ae?(0,N.jsx)("div",{className:ee()["user-icon"],children:(0,N.jsx)(X.default,{src:null!==Qe&&void 0!==Qe&&Qe.img?"oauth"===(null===Qe||void 0===Qe||null===(t=Qe.img)||void 0===t?void 0:t.source)?null===Qe||void 0===Qe||null===(n=Qe.img)||void 0===n?void 0:n.link:"".concat(ae.yu,"/").concat(null===Qe||void 0===Qe||null===(o=Qe.img)||void 0===o?void 0:o.link):"/images/profile.png",alt:"user-icon",width:"40",height:"40"})}):(0,N.jsx)("div",{className:"".concat(ee()["discussion-header"]," ").concat(f().flex),"aria-hidden":"true",children:(0,N.jsx)("span",{className:ee()["time-stamp"],children:(0,y.ge)(le)})}),(0,N.jsx)(de,{courseName:k,courseId:w,lessonName:_,lessonId:b,userData:Qe,refetchComments:function(e){De=ke(ke({},De),{},{skip:De.skip+1}),T([e].concat((0,r.Z)(P))),we.unshift(e),H(ke(ke({},Q),{},(0,x.Z)({},e._id,[])))},accessType:S,timeStamp:le})]}),(0,N.jsxs)("div",{className:ee()["comment-list"],children:[(0,N.jsxs)("div",{className:"".concat(ee()["comment-list-header"]," ").concat(f().flex),children:[(0,N.jsx)("span",{children:"Doubts"}),qe&&P.length>0&&(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{children:"Sort by: "}),(0,N.jsxs)("select",{value:E,onChange:function(e){T([]),we=[],Se=0,De=ke(ke({},De),{},{skip:0}),Ce=Number(e.target.value),Ie=!0,M(Number(e.target.value)),L(!0),Pe=!0,setTimeout((function(){D.resetQueries(["getLessonComments",w,b,E,S],{exact:!0})}),0)},children:[(0,N.jsx)("option",{value:"-1",children:"Newest"}),(0,N.jsx)("option",{value:"1",children:"Oldest"})]})]})]}),qe?P.length>0?(0,N.jsxs)(N.Fragment,{children:[P.map((function(e,t){var n,s,o,r,i,c,l,u,d,m,p,v,h;return(0,N.jsx)("div",{id:"comment-".concat(e._id),className:ee()["comment-list-content"],children:(0,N.jsxs)("div",{className:ee()["comment-content"],children:[(0,N.jsxs)("div",{className:"".concat(ee()["comment-content-header"]," ").concat(f().flex),children:[(0,N.jsx)("div",{className:f().flex,children:null!==e&&void 0!==e&&e.isFromAdmin?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:ee()["user-icon"],children:(0,N.jsx)(X.default,{src:ye,alt:"user-icon",width:"40",height:"40"})}),(0,N.jsx)("span",{children:"PW SKills Mentor"}),(null===(n=nt(e))||void 0===n?void 0:n.length)>0&&(null===(s=nt(e))||void 0===s?void 0:s.map((function(e){return(0,N.jsx)("span",{className:ee()["".concat(e.class)],children:(0,y.Uw)(null===e||void 0===e?void 0:e.name)},e.name)})))]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:ee()["user-icon"],children:(0,N.jsx)(X.default,{src:null!==e&&void 0!==e&&null!==(o=e.userDetails)&&void 0!==o&&o.img?"oauth"===(null===(r=e.userDetails)||void 0===r||null===(i=r.img)||void 0===i?void 0:i.source)?null===(c=e.userDetails)||void 0===c||null===(l=c.img)||void 0===l?void 0:l.link:"".concat(ae.yu,"/").concat(null===(u=e.userDetails)||void 0===u||null===(d=u.img)||void 0===d?void 0:d.link):"/images/profile.png",alt:"user-icon",width:"40",height:"40"})}),(0,N.jsxs)("div",{children:[(0,N.jsx)("section",{className:ee()["chips-wrapper"],children:(null===(m=nt(e))||void 0===m?void 0:m.length)>0&&(null===(p=nt(e))||void 0===p?void 0:p.map((function(e){return(0,N.jsx)("span",{className:ee()["".concat(e.class)],children:(0,y.Uw)(null===e||void 0===e?void 0:e.name)},e.name)})))}),(0,N.jsx)("span",{children:null!==e&&void 0!==e&&e.userDetails?"".concat(null===e||void 0===e||null===(v=e.userDetails)||void 0===v?void 0:v.firstName," ").concat(null===e||void 0===e||null===(h=e.userDetails)||void 0===h?void 0:h.lastName):"Anonymous"})]})]})}),Qe&&e.userId===Qe._id&&(0,N.jsx)("button",{type:"button",onFocus:function(){return null},onMouseOver:function(){return B(e._id)},onClick:function(){return Ye()},className:"".concat(f().btn," ").concat(f()["btn-link"]),children:(0,N.jsx)("i",{className:"far fa-trash-alt"})})]}),(0,N.jsxs)("div",{className:ee()["comment-content-body"],children:[null!==e&&void 0!==e&&e.timeStamp?(0,N.jsx)("div",{className:"".concat(ee()["discussion-header"]," ").concat(f().flex),onClick:function(){Ve(null===e||void 0===e?void 0:e.timeStamp),a()},"aria-hidden":"true",children:(0,N.jsx)("span",{role:"presentation",className:ee()["time-stamp"],children:(0,y.ge)(null===e||void 0===e?void 0:e.timeStamp)})}):null,(0,N.jsx)("p",{children:e.comment})]}),"expert_answer"===(null===e||void 0===e?void 0:e.doubtStatus)&&Qe&&(null===e||void 0===e?void 0:e.userId)===Qe._id&&(0,N.jsxs)("div",{className:ee()["resolved-box"],children:[(0,N.jsx)("small",{children:"Is your issue resolved ?"}),(0,N.jsxs)("section",{children:[(0,N.jsx)("i",{role:"presentation",onClick:function(){ge(e._id),ve(ke(ke({},pe),{},{resolvedModal:!0}))},className:"lni lni-checkmark-circle ".concat(ee()["resolved-check"])}),"expert_answer"===(null===e||void 0===e?void 0:e.doubtStatus)?(0,N.jsx)("i",{role:"presentation",onClick:function(){ge(e._id),ve(ke(ke({},pe),{},{notResolvedModal:!0}))},className:"lni lni-cross-circle ".concat(ee()["resolved-cross"])}):null]})]}),(0,N.jsxs)("div",{className:ee()["doubt-action_box"],children:[(0,N.jsxs)("div",{className:ee()["doubt-count"],role:"presentation",onClick:function(){return ot.mutate(null===e||void 0===e?void 0:e._id)},children:[(0,N.jsx)("i",{className:"".concat(null!==e&&void 0!==e&&e.isLiked?"fas":"far","  fa-thumbs-up")}),(0,N.jsxs)("small",{className:ee()["doubt-action_box_text"],children:["Same Doubt (",null===e||void 0===e?void 0:e.likeCount,")"]})]}),(0,N.jsxs)("div",{role:"presentation",className:ee()["doubt-reply-box"],onFocus:function(){return null},onMouseOver:function(){return $e(e._id)},onClick:function(){!function(e){if(Fe(!1),e in G&&G[e])K(ke(ke({},G),{},(0,x.Z)({},e,!G[e])));else{var t=Object.keys(G).forEach((function(e){G[e]=!1}));K(ke(ke({},t),{},(0,x.Z)({},e,!G[e])))}}(e._id),$e(e._id),function(e){if(e in Q&&Q[e].length>0)J(ke(ke({},U),{},(0,x.Z)({},e,!U[e]))),K(ke(ke({},G),{},(0,x.Z)({},e,!G[e])));else{var t=Object.keys(Q).forEach((function(e){Ge[e]=!1}));H(ke(ke({},t),{},(0,x.Z)({},e,!Q[e]))),K(ke(ke({},G),{},(0,x.Z)({},e,!G[e]))),re(!0)}}(e._id)},children:[(0,N.jsx)("small",{className:ee()["doubt-action_box_text"],children:null!==e&&void 0!==e&&e.repliesCount?"Replies (".concat(null===e||void 0===e?void 0:e.repliesCount,")"):"Replies"}),(0,N.jsx)("i",{className:"fas  ".concat(e._id in U&&U[e._id]&&(null===e||void 0===e?void 0:e._id)in G&&G[null===e||void 0===e?void 0:e._id]?"fa-caret-up":"fa-caret-down"," ").concat(ee()["doubt_box-down"])})]}),Qe&&Qe._id!==e.userId&&(0,N.jsxs)("div",{role:"presentation",className:ee()["report-wrap"],onClick:function(){ge(e._id),ve(ke(ke({},pe),{},{reportModalOpen:!0}))},children:[(0,N.jsx)("i",{className:"fas fa-solid fa-bug"}),(0,N.jsx)("small",{className:ee()["doubt-action_box_text"],children:"Report"})]})]}),e._id in G&&G[e._id]?(0,N.jsx)("section",{className:"".concat(ee()["reply-box-textarea"]),children:(0,N.jsx)(ie,{id:"reply-".concat(e._id),commentId:e._id,courseName:k,courseId:w,lessonId:b,lessonName:_,commentSortBy:E,userData:Qe,refetchReplyComments:Ge,accessType:S,closeReplyBox:Xe})}):null,e._id in U&&U[e._id]?(0,N.jsx)("div",{id:"reply-details-".concat(e._id,"-").concat(t),children:e._id in Q&&Q[e._id].length>0&&Q[e._id].map((function(e){var t,n,s,o,r,i,a,c,l,u,d,m,p,v,h,_,x,g,b,j;return(0,N.jsx)("div",{className:ee()["reply-list"],children:(0,N.jsxs)("div",{className:ee()["reply-content"],children:[(0,N.jsxs)("div",{className:"".concat(ee()["reply-content-header"]," ").concat(f().flex),children:[(0,N.jsx)("div",{className:f().flex,children:null!==e&&void 0!==e&&null!==(t=e.reply)&&void 0!==t&&t.isFromAdmin?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:ee()["user-icon"],children:(0,N.jsx)(X.default,{src:ye,alt:"user-icon",width:"40",height:"40"})}),(0,N.jsxs)("span",{children:[(0,N.jsx)("section",{className:ee()["chips-wrapper"],children:(null===(n=st(null===e||void 0===e?void 0:e.reply))||void 0===n?void 0:n.length)>0&&(null===(s=st(null===e||void 0===e?void 0:e.reply))||void 0===s?void 0:s.map((function(e){return(0,N.jsx)("span",{className:ee()["".concat(e.class)],children:(0,y.Uw)(null===e||void 0===e?void 0:e.name)},e.name)})))}),"PW SKills Mentor"]})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:ee()["user-icon"],children:(0,N.jsx)(X.default,{src:null!==e&&void 0!==e&&null!==(o=e.userDetails)&&void 0!==o&&o.img?"oauth"===(null===(r=e.userDetails)||void 0===r||null===(i=r.img)||void 0===i?void 0:i.source)?null===(a=e.userDetails)||void 0===a||null===(c=a.img)||void 0===c?void 0:c.link:"".concat(ae.yu,"/").concat(null===(l=e.userDetails)||void 0===l||null===(u=l.img)||void 0===u?void 0:u.link):"/images/profile.png",alt:"user-icon",width:"40",height:"40"})}),(0,N.jsxs)("span",{children:[(0,N.jsx)("section",{className:ee()["chips-wrapper"],children:(null===(d=st(null===e||void 0===e?void 0:e.reply))||void 0===d?void 0:d.length)>0&&(null===(m=st(null===e||void 0===e?void 0:e.reply))||void 0===m?void 0:m.map((function(e){return(0,N.jsx)("span",{className:ee()["".concat(e.class)],children:(0,y.Uw)(null===e||void 0===e?void 0:e.name)},e.name)})))}),null!==e&&void 0!==e&&e.userDetails?"".concat(null===e||void 0===e||null===(p=e.userDetails)||void 0===p?void 0:p.firstName," ").concat(null===e||void 0===e||null===(v=e.userDetails)||void 0===v?void 0:v.lastName):"Anonymous"]})]})}),Qe&&(null===e||void 0===e||null===(h=e.reply)||void 0===h?void 0:h.userId)===Qe._id&&(0,N.jsx)("button",{type:"button",onFocus:function(){return null},onMouseOver:function(){return B(e.reply._id)},onClick:function(){return Ye()},className:"".concat(f().btn," ").concat(f()["btn-link"]),children:(0,N.jsx)("i",{className:"far fa-trash-alt"})})]}),(0,N.jsxs)("div",{className:ee()["reply-content-body"],children:[(0,N.jsx)("p",{children:null===e||void 0===e||null===(_=e.reply)||void 0===_?void 0:_.comment}),(0,N.jsxs)("section",{className:"".concat(ee()["reply-report-wrap"]),children:[(0,N.jsxs)("div",{className:"".concat(ee()["like-count"]),role:"presentation",onClick:function(){var t;return rt.mutate(null===e||void 0===e||null===(t=e.reply)||void 0===t?void 0:t._id)},children:[(0,N.jsx)("i",{className:"".concat(null!==e&&void 0!==e&&null!==(x=e.reply)&&void 0!==x&&x.isLiked?"fas":"far","  fa-thumbs-up")}),(0,N.jsxs)("small",{className:ee()["like-count_text"],children:["Like (",null===e||void 0===e||null===(g=e.reply)||void 0===g?void 0:g.likeCount,")"]})]}),Qe&&Qe._id!==(null===e||void 0===e||null===(b=e.reply)||void 0===b?void 0:b.userId)&&!(null!==e&&void 0!==e&&null!==(j=e.reply)&&void 0!==j&&j.isFromAdmin)&&(0,N.jsxs)("div",{role:"presentation",className:ee()["report-wrap"],onClick:function(){var t;Ze(ke(ke({},Le),{},{id:null===e||void 0===e||null===(t=e.reply)||void 0===t?void 0:t._id,isReplyReport:!0})),ve(ke(ke({},pe),{},{reportModalOpen:!0}))},children:[(0,N.jsx)("i",{className:"fas fa-solid fa-bug"}),(0,N.jsx)("small",{className:ee()["reply-doubt-action_box_text"],children:"Report"})]})]})]})]})},V()())}))}):null]})},V()())})),Ie&&(0,N.jsx)("button",{type:"button",className:"".concat(ee()["load-more"]," ").concat(f().btn," ").concat(f()["btn-primary-outline"]),onClick:function(){return Ue()},disabled:!Je||ze,children:ze?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("i",{className:"lni lni-spinner-arrow"})," Loading..."]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("i",{className:"lni lni-spinner-arrow"})," Load More"]})})]}):(0,N.jsx)("p",{style:{color:"#3d3d3d"},children:"Be the first one to comment!"}):(0,N.jsx)("div",{style:{marginTop:"20px"},children:(0,N.jsxs)(Y.yB,{color:"#B6B5B5",highlightColor:"#ADA8A8",children:[(0,N.jsx)(Y.ZP,{circle:!0,height:60,width:60}),(0,N.jsx)("div",{style:{marginTop:"10px"},children:(0,N.jsx)(Y.ZP,{count:3,height:15,width:"100%"})})]})})]}),(null===pe||void 0===pe?void 0:pe.reportModalOpen)&&(0,N.jsx)(_e,{open:null===pe||void 0===pe?void 0:pe.reportModalOpen,onClose:We,reportReasonList:fe,reportCommentId:xe,lessonId:b,courseId:w,replyReportId:Le,setReplyReportId:Ze}),(null===pe||void 0===pe?void 0:pe.notResolvedModal)&&(0,N.jsx)(be,{open:null===pe||void 0===pe?void 0:pe.notResolvedModal,onClose:We,notResolvedList:Ne,reportCommentId:xe,lessonId:b,courseId:w,onUserActionSuccess:et}),(null===pe||void 0===pe?void 0:pe.resolvedModal)&&(0,N.jsx)(je,{open:null===pe||void 0===pe?void 0:pe.resolvedModal,onClose:We,commentId:xe,lessonId:b,courseId:w,onUserActionSuccess:et}),(0,N.jsx)(p.Ix,{theme:"dark"})]})},Le=n(468),Ze=n.n(Le),Ee=function(e){var t=e.courseName,n=e.courseId,o=e.lessonId,r=e.lessonName,a=e.timeStamp,l=e.refetchNotes,u=e.accessType,p=(0,m.xX)().executeRecaptcha,v=(0,s.useContext)(j).setToggleVideo,h=(0,s.useState)({description:"",timestamp:a}),_=h[0],x=h[1],b=(0,s.useState)(""),k=b[0],w=b[1],S=(0,d.useQuery)("getCurrentUserDetails",g.$8).data,O=function(){var e=(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,p("AddNote");case 4:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=(0,d.useMutation)((function(e){return(0,g.AL)(n,o,_,e,u)}),{onSuccess:function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x({description:"",timestamp:a}),w(""),l();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onError:function(e){w(e.message)}});return(0,N.jsx)("form",{onSubmit:function(e){return e.preventDefault(),_.description.replace(/\s/g,"").length?((0,q.e)("sk_notes_click",{user_id:S._id,user_name:"".concat(S.firstName," ").concat(S.lastName),user_email:S.email,user_phonenumber:"".concat(S.isdCode," ").concat(S.phoneNumber),course_name:(0,y.rn)(t),course_id:n,lesson_name:(0,y.rn)(r),lesson_id:o,timestamp:a}),(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:(t=e.sent)&&D.mutate(t);case 4:case"end":return e.stop()}}),e)})))(),!0):(w("Please enter a note"),!1)},children:(0,N.jsxs)("div",{className:Ze()["note-box"],children:[(0,N.jsx)("textarea",{className:""!==k?Ze().error:"",value:_.description,onChange:function(e){w(""),x({description:e.target.value,timestamp:a})},onFocus:function(){return v(!1)},rows:"4",placeholder:"Write your note here..."}),(0,N.jsxs)("div",{className:f().flex,children:[(0,N.jsx)("span",{className:Ze()["error-text"],children:k}),(0,N.jsx)("button",{type:"submit",className:"".concat(f().btn," ").concat(f()["btn-primary"]),disabled:""===_.description||D.isLoading,children:D.isLoading?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(ne(),{radius:20,color:"#ffffff",stroke:2,visible:!0})," Submitting..."]}):"Submit"})]})]})})};Ee.defaultProps={courseName:null,courseId:null,lessonId:null,lessonName:null,timeStamp:null,accessType:null};var Me=Ee;function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){(0,x.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve=[],Be=0,We=null,Qe={skip:0,limit:10},He=-1,qe=!0,Ue=!0,Je=function(e){var t=e.scrollToVideo,n=(0,u.useRouter)().query,o=n.slug,a=n.type,p=o[0],v=o[1],h=o[4],_=o[3],x=o[6]?o[6]:null,b="bundle"===a||"roadmap"===a?a:"",k=(0,m.xX)().executeRecaptcha,w=(0,s.useState)(0),S=w[0],O=w[1],D=(0,s.useState)(Ve),C=D[0],P=D[1],T=(0,s.useState)(qe),I=T[0],R=T[1],L=(0,s.useState)(He),Z=L[0],E=L[1],M=(0,s.useState)(null),A=M[0],F=M[1],B=(0,s.useContext)(j),W=B.notesData,Q=B.setSeekTimeStamp,H=B.toggleVideo,q=(0,d.useQueryClient)(),U=function(){var e=(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,k("DeleteNote");case 4:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){v in W&&O(W[v])}),[W]);var J=(0,d.useInfiniteQuery)(["getLessonNotes",h,v,Z,b],(function(e){var t=e.pageParam,n=void 0===t?Qe.skip:t;return(0,g.Kk)(h,v,n,Qe.limit,Z,b)}),{onSuccess:function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(!1),qe=!1,Ue=!0,We={lessonId:v,courseId:h},P([].concat((0,r.Z)(C),(0,r.Z)(t.pages[Be]))),Ve=[].concat((0,r.Z)(Ve),(0,r.Z)(t.pages[Be])),Be+=1,Qe=Fe(Fe({},Qe),{},{skip:Qe.skip+Qe.limit});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getNextPageParam:function(e){return e.length<10||0===e.length?(Ue=!1,!1):Qe.skip},enabled:I}),z=J.data,X=J.fetchNextPage,G=J.hasNextPage,K=J.isFetchingNextPage;(0,s.useEffect)((function(){!We||We.lessonId===v&&We.courseId===h||(P([]),Ve=[],Be=0,Qe={skip:0,limit:10},He=-1,Ue=!0,R(!0),qe=!0,setTimeout((function(){q.resetQueries(["getLessonNotes",h,v,Z,b],{exact:!0})}),0))}),[h,v]);var $=(0,d.useMutation)((function(e){return(0,g.f_)(h,v,A,e,b)}),{onSuccess:function(){var e=(0,i.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(C.filter((function(e){return e._id!==A}))),Ve=Ve.filter((function(e){return e._id!==A})),Qe=Fe(Fe({},Qe),{},{skip:Qe.skip-1}),setTimeout((function(){0===C.length&&0===Ve.length&&X()}),500);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});return(0,N.jsxs)("div",{className:Ze().notes,children:[(0,N.jsxs)("div",{className:"".concat(Ze().note," ").concat(f().flex),children:[!H&&(0,N.jsx)("div",{className:Ze()["time-stamp"],children:(0,y.ge)(S)}),(0,N.jsx)(Me,{courseName:_,courseId:h,lessonId:v,lessonName:p,timeStamp:S,refetchNotes:function(){P([]),Ve=[],Be=0,Qe={skip:0,limit:10},He=-1,Ue=!0,R(!0),qe=!0,setTimeout((function(){q.resetQueries(["getLessonNotes",h,v,Z,b],{exact:!0})}),0)},accessType:b})]}),(0,N.jsxs)("div",{className:Ze()["note-list"],children:[(0,N.jsxs)("div",{className:"".concat(Ze()["note-list-header"]," ").concat(f().flex),children:[(0,N.jsx)("span",{children:"Notes"}),z&&C.length>0&&(0,N.jsx)("div",{className:"".concat(Ze()["notes-filter"]," ").concat(f().flex),children:(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{children:"Sort by: "}),(0,N.jsxs)("select",{value:Z,onChange:function(e){P([]),Ve=[],Be=0,Qe=Fe(Fe({},Qe),{},{skip:0}),He=Number(e.target.value),Ue=!0,E(Number(e.target.value)),R(!0),qe=!0,setTimeout((function(){q.resetQueries(["getLessonNotes",h,v,Z,b],{exact:!0})}),0)},children:[(0,N.jsx)("option",{value:"-1",children:"Newest"}),(0,N.jsx)("option",{value:"1",children:"Oldest"})]})]})})]}),z?C.length>0?(0,N.jsxs)(N.Fragment,{children:[C.map((function(e){return(0,N.jsx)("div",{className:Ze()["note-list-content"],children:(0,N.jsxs)("div",{className:Ze()["note-content"],children:[(0,N.jsxs)("div",{className:"".concat(Ze()["note-content-header"]," ").concat(f().flex),children:[(0,N.jsx)(l.default,{href:"/lesson/".concat((0,y.qi)(e.lessonDetails.title),"/").concat(e.lessonDetails._id,"/course/").concat(_,"/").concat(h).concat(x?"/batch/".concat(x):"").concat(""!==b?"bundle"===b?"?type=bundle":"roadmap"===b?"?type=roadmap":"":""),passHref:!0,children:(0,N.jsx)("a",{href:"/!#",children:(0,N.jsxs)("div",{className:"".concat(Ze()["notes-header"]," ").concat(f().flex),onClick:function(){Q(e.timestamp),t()},"aria-hidden":"true",children:[(0,N.jsx)("div",{className:Ze()["time-stamp"],children:(0,y.ge)(e.timestamp)}),(0,N.jsx)("div",{className:Ze()["note-title"],children:e.lessonDetails.title})]})})}),(0,N.jsx)("div",{className:Ze()["note-actions"],children:(0,N.jsx)("button",{type:"button",onFocus:function(){return null},onMouseOver:function(){return F(e._id)},onClick:function(){(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:(t=e.sent)&&$.mutate(t);case 4:case"end":return e.stop()}}),e)})))()},className:"".concat(f().btn," ").concat(f()["btn-link"]),children:(0,N.jsx)("i",{className:"far fa-trash-alt"})})})]}),(0,N.jsx)("div",{className:Ze()["note-content-body"],children:(0,N.jsx)("p",{style:{color:"#757575"},children:e.description})})]})},V()())})),Ue&&(0,N.jsx)("button",{type:"button",className:"".concat(Ze()["load-more"]," ").concat(f().btn," ").concat(f()["btn-primary-outline"]),onClick:function(){return X()},disabled:!G||K,children:K?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("i",{className:"lni lni-spinner-arrow"})," Loading..."]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("i",{className:"lni lni-spinner-arrow"})," Load More"]})})]}):(0,N.jsx)("p",{style:{color:"#757575"},children:"Write your first note!"}):(0,N.jsx)("div",{style:{marginTop:"20px"},children:(0,N.jsxs)(Y.yB,{color:"#B6B5B5",highlightColor:"#ADA8A8",children:[(0,N.jsx)(Y.ZP,{circle:!0,height:60,width:60}),(0,N.jsx)("div",{style:{marginTop:"10px"},children:(0,N.jsx)(Y.ZP,{count:3,height:15,width:"100%"})})]})})]})]})},ze=function(e){var t,n,o,r=e.classExperienceRating,a=e.mentorRating,l=e.disabled,m=void 0!==l&&l,v=e.update,h=e.reset,x=e.previousRating,b=(0,u.useRouter)().query.slug,j=b[1],y=b[4],k=(0,s.useState)(!1),w=k[0],S=k[1],O=(0,s.useState)(null),D=O[0],C=O[1],P=(0,d.useQuery)("getCurrentUserDetails",g.$8).data,T=D?{classExperienceRating:r,mentorRating:a,comment:D}:{classExperienceRating:r,mentorRating:a},I=(0,d.useMutation)((function(){return(0,g.Nn)(y,j,T)}),{onSuccess:function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.Am.success(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e){p.Am.error(e)}}),R=(0,d.useMutation)((function(){return(0,g.Me)(y,j,{classExperienceRating:r,mentorRating:a})}),{onSuccess:function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.Am.success(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e){p.Am.error(e)}}),L=(0,d.useMutation)((function(){return(0,g.H1)(y,j,{comment:D})}),{onSuccess:function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.Am.success(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e){p.Am.error(e)}});return(0,N.jsxs)("div",{className:"".concat(_().feedback," ").concat(f().flex),children:[(0,N.jsx)(X.default,{src:null!==P&&void 0!==P&&P.img?"oauth"===(null===P||void 0===P||null===(t=P.img)||void 0===t?void 0:t.source)?null===P||void 0===P||null===(n=P.img)||void 0===n?void 0:n.link:"".concat(ae.yu,"/").concat(null===P||void 0===P||null===(o=P.img)||void 0===o?void 0:o.link):"/images/profile.png",alt:"user-icon",width:"40",height:"40"}),(0,N.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),D&&!D.replace(/\s/g,"").length)return C(D.replace(/\s/g,"")),S("Please enter a valid feedback"),!1;if(v)D&&L.mutate(),x.classExperienceRating===r&&x.mentorRating===a||R.mutate();else{if(!r||!a)return S("Please select the rating");I.mutate()}return setTimeout((function(){S(!1),h()}),200),C("")},className:_().feedback_box,children:[(0,N.jsx)("textarea",{className:w&&_().error,disabled:0===r||0===a||m,value:D,onChange:function(e){C(e.target.value)},rows:"4",placeholder:"Share Your Feedback..."}),(0,N.jsx)("span",{className:_()["error-text"],children:w}),(0,N.jsx)("div",{className:_().btn_container,children:(0,N.jsx)("button",{style:{marginRight:"10px"},type:"submit",className:"".concat(f().btn," ").concat(f()["btn-primary"]),disabled:0===r||0===a||m,children:"Submit"})})]})]})};ze.defaultProps={classExperienceRating:null,mentorRating:null,disabled:null,update:null,reset:null,previousRating:null};var Xe=ze,Ge=function(e){var t=e.onChange,n=e.rating,s=e.disabled,o=void 0!==s&&s,i=e.hover,a=e.setHover;return(0,N.jsx)("div",{children:(0,r.Z)(Array(5)).map((function(e,s){return(0,N.jsx)("button",{type:"submit",disabled:o,className:"".concat(_().star_btn," ").concat(s+1<=(i||n)?_().star_selected:_().star_not_selected),onClick:function(){return o?null:function(e){return t(e)}(s+1)},onMouseEnter:function(){return o?null:a(s+1)},onMouseLeave:function(){return o?null:a(n)},children:(0,N.jsx)("span",{className:"".concat(_().stars," ").concat(o&&_().disabled_star),children:(0,N.jsx)("i",{className:"fas fa-star"})})},V()())}))})};Ge.defaultProps={onChange:null,rating:null,disabled:null,hover:null,setHover:null};var Ke=Ge;function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){(0,x.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var et=function(){var e,t,n=(0,u.useRouter)(),o=n.query.slug,i=o[1],a=o[4],c=(0,s.useState)(0),l=c[0],m=c[1],v=(0,s.useState)(0),h=v[0],x=v[1],b=(0,s.useState)(0),j=b[0],y=b[1],k=(0,s.useState)(0),w=k[0],S=k[1],O=(0,s.useState)({mentorRating:0,classExperienceRating:0}),D=O[0],C=O[1],P=(0,s.useState)(!1),T=P[0],I=P[1],R=(0,s.useState)({commentThread:[]}),L=R[0],Z=R[1],E=(0,s.useState)(!1),M=E[0],A=E[1],F=(0,s.useState)(1),B=F[0],W=F[1],Q=(0,d.useQuery)("getCurrentUserDetails",g.$8).data,H=(0,d.useQuery)("getLessonFeedback",(function(){return(0,g.J0)(a,i)})),q=H.data,U=H.refetch,J=(0,d.useQuery)(["getAllFeedback",B],(function(){return(0,g.Zl)(a,i,B)}),{onSuccess:function(e){return 0===Object.keys(e).length?A(!0):(5!==e.commentThread.length?A(!0):A(!1),Z($e($e({},L),{},{commentThread:[].concat((0,r.Z)(L.commentThread),(0,r.Z)(e.commentThread))})))}}),z=J.refetch,G=J.isFetching;(0,s.useEffect)((function(){q?(m(q.mentorRating),S(q.classExperienceRating),C({classExperienceRating:q.classExperienceRating,mentorRating:q.mentorRating}),q.hasAdminReplied,I(!0)):(y(0),x(0),m(0),S(0),I(!1)),y(0),x(0)}),[q]),(0,s.useEffect)((function(){z(),U(),Z({commentThread:[]})}),[n]);var K=function(){W(1),y(0),x(0),m(0),S(0),Z({commentThread:[]}),I(!1),z(),U()};return(0,N.jsxs)("div",{className:_().feedback_container,children:[(0,N.jsx)("div",{style:{justifyContent:"space-between",gap:10},className:f().flex,children:(0,N.jsx)("h6",{children:"Rate Your Class"})}),(0,N.jsxs)("div",{className:_().star_container,children:[(0,N.jsxs)("div",{className:_().star_wrapper,children:[(0,N.jsx)(Ke,{hover:h,setHover:x,disabled:"closed"===(null===q||void 0===q?void 0:q.status),rating:l,onChange:function(e){m(e)}}),(0,N.jsx)("p",{children:"Rate Your Mentor"})]}),(0,N.jsxs)("div",{className:_().star_wrapper,children:[(0,N.jsx)(Ke,{hover:j,setHover:y,disabled:"closed"===(null===q||void 0===q?void 0:q.status),rating:w,onChange:function(e){S(e)}}),(0,N.jsx)("p",{children:"Rate Your Class Experience"})]})]}),(0,N.jsxs)("div",{className:"".concat(f().flex," ").concat(_().title_container),children:[(0,N.jsx)("p",{className:_().label,children:"Share Your Feedback"}),(null===L||void 0===L||null===(e=L.commentThread)||void 0===e?void 0:e.length)>0&&(0,N.jsxs)("button",{onClick:function(){var e;e="closed"===(null===q||void 0===q?void 0:q.status)?"open":"closed",(0,g.HB)(a,i,e).then((function(){K()})).catch((function(){}))},type:"button",className:"".concat(f().btn," ").concat(f()["btn-primary-transparent"]),children:[(0,N.jsx)("span",{children:"closed"===(null===q||void 0===q?void 0:q.status)?"Open Feedback":"Close Feedback"}),"closed"===(null===q||void 0===q?void 0:q.status)?(0,N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",style:{width:"20px"},children:(0,N.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}):(0,N.jsx)("i",{className:"fa fa-times","aria-hidden":"true"})]})]}),"closed"!==(null===q||void 0===q?void 0:q.status)&&(0,N.jsx)(Xe,{previousRating:D,reset:K,update:T,mentorRating:l,classExperienceRating:w,disabled:"closed"===(null===q||void 0===q?void 0:q.status)}),null===L||void 0===L||null===(t=L.commentThread)||void 0===t?void 0:t.map((function(e){var t,n,s;return(0,N.jsx)("div",{id:"feedback-".concat(e._id),className:_()["comment-list-content"],children:(0,N.jsxs)("div",{className:_().feedback_content,children:[(0,N.jsxs)("div",{className:"".concat(_().feedback_content_header," ").concat(f().flex),children:[(0,N.jsx)("div",{className:f().flex,children:null!==e&&void 0!==e&&e.fromAdmin?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:_().user_icon,children:(0,N.jsx)("div",{className:_().user_icon,children:(0,N.jsx)(X.default,{src:ye,alt:"user-icon",width:"40",height:"40"})})}),(0,N.jsx)("span",{children:"Reply From PW SKills"})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:_().user_icon,children:(0,N.jsx)(X.default,{src:null!==Q&&void 0!==Q&&Q.img?"oauth"===(null===Q||void 0===Q||null===(t=Q.img)||void 0===t?void 0:t.source)?null===Q||void 0===Q||null===(n=Q.img)||void 0===n?void 0:n.link:"".concat(ae.yu,"/").concat(null===Q||void 0===Q||null===(s=Q.img)||void 0===s?void 0:s.link):"/images/profile.png",alt:"user-icon",width:"40",height:"40"})}),(0,N.jsx)("span",{children:Q.firstName})]})}),!(null!==e&&void 0!==e&&e.fromAdmin)&&"closed"!==(null===q||void 0===q?void 0:q.status)&&(0,N.jsx)("button",{type:"button",onClick:function(){return t=e._id,void(0,g.db)(a,i,t).then((function(){p.Am.success("Lesson comment deleted successfully"),K()})).catch((function(e){p.Am.error(e.response)}));var t},className:"".concat(f().btn," ").concat(f()["btn-link"]),children:(0,N.jsx)("i",{className:"far fa-trash-alt"})})]}),(0,N.jsx)("div",{className:_()["comment-content-body"],children:(0,N.jsx)("p",{children:e.message})})]})},V()())})),G&&(0,N.jsx)("div",{style:{marginTop:"20px"},children:(0,N.jsxs)(Y.yB,{color:"#B6B5B5",highlightColor:"#ADA8A8",children:[(0,N.jsx)(Y.ZP,{circle:!0,height:60,width:60}),(0,N.jsx)("div",{style:{marginTop:"10px"},children:(0,N.jsx)(Y.ZP,{count:3,height:15,width:"100%"})})]})}),!M&&(null===L||void 0===L?void 0:L.commentThread)&&(0,N.jsxs)("button",{type:"button",onClick:function(){W((function(e){return e+1}))},className:"".concat(_().load_more_btn," ").concat(f().btn," ").concat(f()["btn-primary-outline"]),children:["Load older feedback ",(0,N.jsx)("i",{className:"lni lni-spinner-arrow"})]})]})},tt=function(e){var t,n,o,r,i,a,c,l,u,m,p,v,h,_=e.lessonData,x=e.courseDuration,b=e.courseData,j=e.scrollToVideo,k=(0,s.useState)(1),w=k[0],S=k[1],O=(0,d.useQuery)("getCurrentUserDetails",g.$8).data,D=function(e,t,n,s,o){(0,q.e)("sk_video_feature_click",{user_id:O._id,user_name:"".concat(O.firstName," ").concat(O.lastName),user_email:O.email,user_phonenumber:"".concat(O.isdCode," ").concat(O.phoneNumber),feature_name:n,course_name:(0,y.rn)(s),course_id:o,lesson_name:(0,y.rn)(e),lesson_id:t})};return(0,N.jsxs)("div",{className:K()["video-data"],children:[(0,N.jsx)("div",{className:K()["header-tabs"],children:(0,N.jsxs)("ul",{children:[(0,N.jsx)("li",{onClick:function(){S(1),D(null===_||void 0===_?void 0:_.title,null===_||void 0===_?void 0:_._id,"Overview",null===b||void 0===b?void 0:b.title,null===b||void 0===b?void 0:b._id)},className:1===w?K().active:"","aria-hidden":"true",children:(0,N.jsx)("a",{href:"#",children:"Overview"})}),(0,N.jsx)("li",{onClick:function(){S(2),D(null===_||void 0===_?void 0:_.title,null===_||void 0===_?void 0:_._id,"Resources",null===b||void 0===b?void 0:b.title,null===b||void 0===b?void 0:b._id)},className:2===w?K().active:"","aria-hidden":"true",children:(0,N.jsx)("a",{href:"#",children:"Resources"})}),(0,N.jsx)("li",{onClick:function(){S(3),D(null===_||void 0===_?void 0:_.title,null===_||void 0===_?void 0:_._id,"Notes",null===b||void 0===b?void 0:b.title,null===b||void 0===b?void 0:b._id)},className:3===w?K().active:"","aria-hidden":"true",children:(0,N.jsx)("a",{href:"#",children:"Notes"})}),(0,N.jsx)("li",{onClick:function(){S(4),D(null===_||void 0===_?void 0:_.title,null===_||void 0===_?void 0:_._id,"Doubts",null===b||void 0===b?void 0:b.title,null===b||void 0===b?void 0:b._id)},className:4===w?K().active:"","aria-hidden":"true",children:(0,N.jsx)("a",{href:"#",children:"Doubts"})}),(0,N.jsx)("li",{onClick:function(){S(5),D(null===_||void 0===_?void 0:_.title,null===_||void 0===_?void 0:_._id,"Feedback",null===b||void 0===b?void 0:b.title,null===b||void 0===b?void 0:b._id)},className:5===w?K().active:"","aria-hidden":"true",children:(0,N.jsx)("a",{href:"#",children:"Feedback"})})]})}),1===w&&(0,N.jsxs)("div",{className:K()["video-overview"],children:[(0,N.jsx)("span",{className:K().title,children:null===b||void 0===b?void 0:b.title}),x>0&&(0,N.jsxs)("p",{className:K().duration,children:["Course Duration: ",(0,y.eC)(x)]}),(0,N.jsx)("p",{children:null!==b&&void 0!==b&&b.description?null===b||void 0===b?void 0:b.description:"No Description Provided!"}),(null===b||void 0===b||null===(t=b.courseMetas)||void 0===t||null===(n=t[0])||void 0===n||null===(o=n.overview)||void 0===o?void 0:o.learn)&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("span",{className:K()["sub-title"],children:"What you'll learn"}),(0,N.jsx)("ul",{className:K().learn,children:null===b||void 0===b||null===(r=b.courseMetas)||void 0===r||null===(i=r[0])||void 0===i||null===(a=i.overview)||void 0===a?void 0:a.learn.map((function(e){return(0,N.jsx)("li",{children:e},V()())}))})]}),(null===b||void 0===b||null===(c=b.courseMetas)||void 0===c||null===(l=c[0])||void 0===l||null===(u=l.overview)||void 0===u?void 0:u.features)&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("span",{className:K()["sub-title"],children:"Course Features"}),(0,N.jsx)("ul",{className:K().features,children:null===b||void 0===b||null===(m=b.courseMetas)||void 0===m||null===(p=m[0])||void 0===p||null===(v=p.overview)||void 0===v?void 0:v.features.map((function(e){return(0,N.jsx)("li",{children:e},V()())}))})]})]}),2===w&&(0,N.jsxs)("div",{className:K()["video-resources"],children:[(0,N.jsx)("span",{children:"Resources"}),(null===_||void 0===_?void 0:_.resources.length)>0?(0,N.jsx)("div",{className:"".concat(K()["resources-grid"]," ").concat(f().grid),children:null===_||void 0===_||null===(h=_.resources)||void 0===h?void 0:h.map((function(e){return(0,N.jsx)("a",{onClick:function(t){var n,s,o,r,i;t.preventDefault(),n=null===b||void 0===b?void 0:b.title,s=null===b||void 0===b?void 0:b._id,o=null===_||void 0===_?void 0:_.title,r=null===_||void 0===_?void 0:_._id,i=null===e||void 0===e?void 0:e.title,(0,q.e)("sk_resources_click",{user_id:O._id,user_name:"".concat(O.firstName," ").concat(O.lastName),user_email:O.email,user_phonenumber:"".concat(O.isdCode," ").concat(O.phoneNumber),course_name:(0,y.rn)(n),course_id:s,lesson_name:(0,y.rn)(o),lesson_id:r,resource_name:i}),window.open(e.url,"_blank")},href:e.url,target:"_blank",rel:"noreferrer nofollow",children:(0,N.jsxs)("div",{className:"".concat(K()["resources-item"]," ").concat(f().flex),children:[(0,N.jsx)("div",{className:K()["resources-icon"],children:(0,N.jsx)(X.default,{src:"/images/resources-icon.svg",alt:"resource-icon",width:20,height:20})}),(0,N.jsx)("span",{children:e.title})]})},V()())}))}):(0,N.jsx)("p",{children:"No Resources Provided!"})]}),3===w&&(0,N.jsx)(Je,{scrollToVideo:j}),4===w&&(0,N.jsx)(Re,{scrollToVideo:j}),5===w&&(0,N.jsx)(et,{})]})};tt.defaultProps={lessonData:null,courseData:null,courseDuration:0};var nt=tt,st=function(e){var t,n,o=e.lessonSections,a=e.lessonName,v=e.lessonId,h=e.courseName,x=e.courseId,k=e.batchId,w=(0,d.useQuery)("getCurrentUserDetails",g.$8).data,S=(0,u.useRouter)(),O=S.query.type,D="bundle"===O||"roadmap"===O?O:"",C=(0,d.useQueryClient)(),P=(0,m.xX)().executeRecaptcha,I=function(){var e=(0,i.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,P("RaiseYourDemand");case 4:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=o&&o.sections.map((function(e){return{title:e.title,lessons:e.lessons.map((function(e){return o.lessonDetails.filter((function(t){return e===t._id}))[0]})).filter((function(e){return void 0!==e}))}})).filter((function(e){return e.lessons.length>0})),L=R.reduce((function(e,t){return[].concat((0,r.Z)(e),(0,r.Z)(t.lessons))}),[]).filter((function(e){return"video"===e.type})),Z=(0,s.useState)(null),E=Z[0],M=Z[1],F=(0,s.useState)(!1),V=F[0],B=F[1],W=(0,s.useState)(!1),Q=W[0],H=W[1],U=(0,s.useState)(null),J=U[0],X=U[1],G=(0,s.useState)(null),K=G[0],Y=G[1],$={videoProgressData:J,setVideoProgressData:X},ee=(0,s.useState)({}),te=ee[0],ne=ee[1],se=(0,s.useState)(!0),oe=se[0],re=se[1],ie=(0,s.useState)(null),ae={notesData:te,setNotesData:ne,toggleVideo:oe,setToggleVideo:re,seekTimeStamp:ie[0],setSeekTimeStamp:ie[1]},ce=(0,s.useState)(!0),le=ce[0],ue=ce[1],de=(0,s.useRef)(),me=(0,s.useRef)(),pe=(0,s.useRef)(),ve=function(e){de.current.contains(e.target)||ue(!0)};(0,s.useEffect)((function(){return document.addEventListener("mousedown",ve),function(){return document.removeEventListener("mousedown",ve)}})),(0,s.useEffect)((function(){if(localStorage.getItem("video_options")){var e=JSON.parse(localStorage.getItem("video_options"));H(!(null===e||void 0===e||!e.autoplay)&&(null===e||void 0===e?void 0:e.autoplay))}}),[]);var fe=(0,d.useQuery)(["getVideoLesson",x,v],(function(){return""!==x&&""!==v&&(0,g.tM)(x,v)}),{onSuccess:function(e){B(!0),"vdocipher"===e.lesson.data.provider?M(0):M(1)},refetchOnMount:!0}),he=fe.data;fe.error&&S.replace("/");var _e=(0,d.useQuery)(["getUserCourseProgress",x],(function(){return(0,g.cH)(x)}),{onSuccess:function(){B(!1)},enabled:V,refetchOnMount:!0}).data,xe=(0,d.useQuery)(["getUserSubmissions",x],(function(){return(0,g.LM)(x)})).data,ge=(0,d.useQuery)(["getCourseDetails",x],(function(){return(0,g.c_)(x)})).data,be=(0,d.useQuery)(["getUserVideoWatchStats",x,v],(function(){return(0,g.Wi)(x,v)}),{refetchOnMount:!0}).data;(0,s.useEffect)((function(){_e&&(X(_e),C.refetchQueries("getUserRecentlyAccessedCourses",{exact:!0}),C.refetchQueries(["getUserLastPlayedCourse",x],{exact:!0}))}),[_e]),(0,s.useEffect)((function(){if(xe&&xe.length>0){var e=xe.filter((function(e){return"assignment"===e.lessonType})).map((function(e){return e.assignmentSubmission})),t=xe.filter((function(e){return"quiz"===e.lessonType})).map((function(e){return e.quizSubmission}));Y([].concat((0,r.Z)(e),(0,r.Z)(t)))}}),[xe]);var je=null===o||void 0===o||null===(t=o.lessonDetails)||void 0===t?void 0:t.filter((function(e){return"video"===e.type})).reduce((function(e,t){var n,s=e;t.data&&t.data.duration&&(s+=null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.duration);return s}),0),ye=function(e){(0,q.e)("sk_generate_certificate_click",{user_id:w._id,user_name:"".concat(w.firstName," ").concat(w.lastName),user_email:w.email,user_phonenumber:"".concat(w.isdCode," ").concat(w.phoneNumber),course_name:(0,y.rn)(h),course_id:x,pdf_generated:e,source:"lesson_page"})},Ne=function(e){(0,q.e)("sk_course_feature_click",{user_id:w._id,user_name:"".concat(w.firstName," ").concat(w.lastName),user_email:w.email,user_phonenumber:"".concat(w.isdCode," ").concat(w.phoneNumber),course_name:(0,y.rn)(h),course_id:x,lesson_name:(0,y.rn)(a),lesson_id:v,course_feature_name:e})};return(0,N.jsx)(b.Provider,{value:$,children:(0,N.jsx)(j.Provider,{value:ae,children:(0,N.jsx)("section",{className:_()["video-detail"],children:(0,N.jsxs)("div",{className:f().flex,children:[(0,N.jsxs)("div",{className:_()["video-info"],children:[(0,N.jsxs)("div",{className:"".concat(_().header," ").concat(f().flex),children:[(0,N.jsxs)("div",{className:_()["header-left"],children:[(0,N.jsx)(l.default,{href:""!==D?"bundle"===D?"/skills-infinite":"roadmap"===D?"/roadmaps":"/":"/",passHref:!0,children:(0,N.jsx)("a",{href:"/!#",className:_()["back-courses"],children:(0,N.jsx)("i",{className:"fas fa-arrow-left"})})}),(0,N.jsxs)("div",{className:_()["now-playing"],children:[(0,N.jsx)("span",{children:"Now Playing - "}),(0,N.jsx)("span",{children:a})]})]}),(0,N.jsxs)("div",{className:_()["header-right"],children:[(0,N.jsxs)("div",{className:_().autoplay,children:[(0,N.jsx)("span",{className:_()["header-right-text"],children:"Autoplay"}),(0,N.jsxs)("label",{className:_()["autoplay-switch"],children:[(0,N.jsx)("input",{type:"checkbox",onChange:function(e){var t,n,s,o,r,i;H(e.target.checked),localStorage.setItem("video_options",JSON.stringify({autoplay:e.target.checked,volume:null!==(t=JSON.parse(localStorage.getItem("video_options")))&&void 0!==t&&t.volume?null===(n=JSON.parse(localStorage.getItem("video_options")))||void 0===n?void 0:n.volume:1,playbackRate:null!==(s=JSON.parse(localStorage.getItem("video_options")))&&void 0!==s&&s.playbackRate?null===(o=JSON.parse(localStorage.getItem("video_options")))||void 0===o?void 0:o.playbackRate:1,isMuted:!(null===(r=JSON.parse(localStorage.getItem("video_options")))||void 0===r||!r.muted)&&(null===(i=JSON.parse(localStorage.getItem("video_options")))||void 0===i?void 0:i.muted)}))},checked:Q}),(0,N.jsx)("span",{className:"".concat(_().slider," ").concat(_().round)})]})]}),(0,N.jsxs)("div",{className:_()["lesson-menu"],ref:de,onClick:function(){ue(!le)},"aria-hidden":"true",children:[(0,N.jsx)("i",{style:{color:"#3d3d3d"},className:"fas fa-ellipsis-v"}),!le&&(0,N.jsx)("div",{className:"".concat(_()["lesson-menu-content"]," ").concat(f().card),children:(0,N.jsxs)("ul",{children:[(0,N.jsx)("li",{onClick:function(){return Ne("Course Analytics")},children:(0,N.jsxs)("a",{href:"/course-analytics/".concat((0,y.qi)(h),"/").concat(x).concat(k?"/batch/".concat(k):"").concat(""!==D?"bundle"===D?"?type=bundle":"roadmap"===D?"?type=roadmap":"":""),target:"_blank",rel:"noreferrer noopener",children:[(0,N.jsx)("i",{className:"lni lni-stats-up"}),"Course Analytics"]})}),(0,N.jsxs)("li",{onClick:function(){Ne("Generate Certificate"),(0,i.Z)(c().mark((function e(){var t,n,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:if(!(t=e.sent)){e.next=15;break}return e.prev=4,e.next=7,(0,g.pt)(x,t);case 7:(n=e.sent)&&(ye(!0),(s=me.current).href="".concat(window.location.origin,"/certificate/").concat(n),setTimeout((function(){s.click()}),500)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),ye(!1),p.Am.error(e.t0.message,{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 15:case"end":return e.stop()}}),e,null,[[4,11]])})))()},"aria-hidden":"true",children:[(0,N.jsx)("i",{className:"lni lni-certificate"}),"Generate Certificate"]})]})}),(0,N.jsx)("a",{ref:me,target:"_blank",href:"#",hidden:!0})]})]})]}),(0,N.jsx)("div",{ref:pe}),(0,N.jsxs)("div",{className:_().video,children:[0===E&&(0,N.jsx)(T,{videoData:null===he||void 0===he?void 0:he.vdocipherData,allVideos:L,accessType:D,videoStats:be}),1===E&&(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(A,{videoData:null===he||void 0===he||null===(n=he.lesson)||void 0===n?void 0:n.data,allVideos:L,accessType:D,videoStats:be})})]}),(0,N.jsx)(nt,{lessonData:null===he||void 0===he?void 0:he.lesson,courseData:ge,courseDuration:je,scrollToVideo:function(){var e;null===pe||void 0===pe||null===(e=pe.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}})]}),(0,N.jsx)(z,{lessonSections:R,submissions:K,accessType:D})]})})})})};st.defaultProps={lessonSections:null,batchId:null};var ot=st,rt=n(7897),it=n(7565),at=function(e){var t=e.lessonName,n=e.lessonId,r=e.courseName,i=e.courseId,a=e.batchId,c=e.sections,l=(0,y.rn)(t),u=(0,y.rn)(r),d=(0,s.useState)(""),m=d[0],p=d[1];return(0,s.useEffect)((function(){p(window.location.href)}),[]),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(o.default,{children:[(0,N.jsxs)("title",{children:[l," - ",u," | PW Skills"]}),(0,N.jsx)("meta",{name:"title",content:"".concat(l," - ").concat(u," | PW Skills")}),(0,N.jsx)("meta",{name:"description",content:"".concat(l," of ").concat(u," - PW Skills")}),(0,N.jsx)("meta",{name:"keywords",content:"PW Skills, AI, Courses, Learn, Dashboard"}),(0,N.jsx)("meta",{property:"og:type",content:"website"}),(0,N.jsx)("meta",{property:"og:url",content:m}),(0,N.jsx)("meta",{property:"og:title",content:"".concat(l," - ").concat(u," | PW Skills")}),(0,N.jsx)("meta",{property:"og:description",content:"".concat(l," of ").concat(u," - PW Skills")}),(0,N.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,N.jsx)("meta",{property:"twitter:url",content:m}),(0,N.jsx)("meta",{property:"twitter:title",content:"".concat(l," - ").concat(u," | PW Skills")}),(0,N.jsx)("meta",{property:"twitter:description",content:"".concat(l," of ").concat(u," - PW Skills")})]}),(0,N.jsx)(ot,{lessonSections:c,lessonName:l,lessonId:n,courseName:r,courseId:i,batchId:a})]})};at.defaultProps={sections:null,batchId:null};var ct=!0,lt=(0,rt.Z)((0,it.Z)(at))},7396:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/lesson/[...slug]",function(){return n(2674)}])},2067:function(e){e.exports={"form-section":"DoubtReport_form-section__3OvKl",checkmark:"DoubtReport_checkmark__3j-aa","reason-wrapper":"DoubtReport_reason-wrapper__2tg_K","comment-box":"DoubtReport_comment-box__3QWbC","button-group":"DoubtReport_button-group__1UjI-","modal-body":"DoubtReport_modal-body__1Gfew","reply-box-textarea":"DoubtReport_reply-box-textarea__2SR1M"}},2558:function(e){e.exports={discussion:"Doubts_discussion__1W6pP",error:"Doubts_error__1D81Q",comment:"Doubts_comment__2hcyF","user-icon":"Doubts_user-icon__3oz07","error-text":"Doubts_error-text__1ZQul","reply-box":"Doubts_reply-box__3M9DV","comment-box":"Doubts_comment-box__1qJHD","comment-list":"Doubts_comment-list__1vwEk","reply-list":"Doubts_reply-list__2HPt1","reply-content":"Doubts_reply-content__3I-r4","load-more":"Doubts_load-more__2y4ni","comment-list-header":"Doubts_comment-list-header__2gqro","chips-wrapper":"Doubts_chips-wrapper__20M8K","comment-content-header":"Doubts_comment-content-header__1IN0m","reply-content-header":"Doubts_reply-content-header__3GlJb","comment-content":"Doubts_comment-content__IFFzL","comment-content-footer":"Doubts_comment-content-footer__rxFsn","reply-content-footer":"Doubts_reply-content-footer__rWO-j","reply-buttons":"Doubts_reply-buttons__-3LrO","doubt-count":"Doubts_doubt-count__zx85c","resolved-box":"Doubts_resolved-box__1CkpL","resolved-check":"Doubts_resolved-check__1uoH7","resolved-cross":"Doubts_resolved-cross__jgOs8","reply-content-body":"Doubts_reply-content-body__jrFch","like-count":"Doubts_like-count__1rscz","comment-list-content":"Doubts_comment-list-content__3dXCK","like-count_text":"Doubts_like-count_text__1uqBJ","status-chip":"Doubts_status-chip__3x_Lo",resolved:"Doubts_resolved__1G7Z2",unresolved:"Doubts_unresolved__1_SvO",suspicious:"Doubts_suspicious__MdBCo",expert_answer:"Doubts_expert_answer__2I7kt","discussion-header":"Doubts_discussion-header__1xPsu","time-stamp":"Doubts_time-stamp__d5OtJ","doubt_time-stamp":"Doubts_doubt_time-stamp__2xD-9","doubt-reply-box":"Doubts_doubt-reply-box__3e-8Z","doubt_box-down":"Doubts_doubt_box-down__2GVCf","doubt-action_box":"Doubts_doubt-action_box__lr6e5","doubt-action_box_text":"Doubts_doubt-action_box_text__vK_vJ","report-wrap":"Doubts_report-wrap__2OSMr","comment-content-body":"Doubts_comment-content-body__1ocGu","status-chip_text":"Doubts_status-chip_text__GwTbc","reply-report-wrap":"Doubts_reply-report-wrap__2U-fa","reply-doubt-action_box_text":"Doubts_reply-doubt-action_box_text__2WGER"}},7527:function(e){e.exports={"video-detail":"Lesson_video-detail__33oRx","video-info":"Lesson_video-info__3W2cf",header:"Lesson_header__2dt5H","header-left":"Lesson_header-left__1uNMX","back-courses":"Lesson_back-courses__2-bfJ","now-playing":"Lesson_now-playing__1LQKU","header-right":"Lesson_header-right__3AJRh",autoplay:"Lesson_autoplay__D2VlA","header-right-text":"Lesson_header-right-text__2LriF","autoplay-switch":"Lesson_autoplay-switch__1qO0k",slider:"Lesson_slider__3aPkM",round:"Lesson_round__2DXE_","lesson-menu":"Lesson_lesson-menu__28Cwq","lesson-menu-content":"Lesson_lesson-menu-content__IHbsm",video:"Lesson_video__1_5WK",feedback_container:"Lesson_feedback_container__1_8PF",star_container:"Lesson_star_container__tI5VS",star_wrapper:"Lesson_star_wrapper__29N4B",star_btn:"Lesson_star_btn__2y6zo",stars:"Lesson_stars__2-9wh",star_selected:"Lesson_star_selected__35HuF",star_not_selected:"Lesson_star_not_selected__2716g","rating-stars":"Lesson_rating-stars__1x01R",star:"Lesson_star__1rowp",active:"Lesson_active__2jegX",feedback_box:"Lesson_feedback_box__2lQnw",label:"Lesson_label__Uqpk6",btn_container:"Lesson_btn_container__2MFvb",feedback:"Lesson_feedback__14-rB",feedback_content:"Lesson_feedback_content__3Q2cG",feedback_content_header:"Lesson_feedback_content_header__3uBnd","fa-trash-alt":"Lesson_fa-trash-alt__3kfHr",user_icon:"Lesson_user_icon__319pw",load_more_btn:"Lesson_load_more_btn__2Vxua",title_container:"Lesson_title_container__12NiX",error:"Lesson_error__3nNTX","error-text":"Lesson_error-text__cLPBz"}},9196:function(e){e.exports={"lesson-list":"LessonList_lesson-list__160f2","social-fixed":"LessonList_social-fixed__3UxMg","social-header":"LessonList_social-header__1t0-2","social-logos":"LessonList_social-logos__2bMcu","social-title":"LessonList_social-title__2GJwB","section-header":"LessonList_section-header__1cZ6a","section-title":"LessonList_section-title__v7TQ-","section-list":"LessonList_section-list__30ZP5","section-list-video":"LessonList_section-list-video__2Xcf5","section-list-resource":"LessonList_section-list-resource__3zigM","section-list-video-detail":"LessonList_section-list-video-detail__HXk1F",active:"LessonList_active__3aIsZ",status:"LessonList_status__268gc",submitted:"LessonList_submitted__HocKd",marked:"LessonList_marked__1gnfe"}},468:function(e){e.exports={notes:"Notes_notes__H-AV1",error:"Notes_error__1AXPk",note:"Notes_note__1vefT","time-stamp":"Notes_time-stamp__3bo6q","error-text":"Notes_error-text__3X-P4","note-box":"Notes_note-box__1xHI1","note-buttons":"Notes_note-buttons__28R5H","note-list":"Notes_note-list__1FBir","load-more":"Notes_load-more__1mE4_","note-list-header":"Notes_note-list-header__FY3D2","note-content-header":"Notes_note-content-header__if8GK","notes-filter":"Notes_notes-filter__3X2x3","notes-header":"Notes_notes-header__30-Cf","note-title":"Notes_note-title__2yhdC","note-actions":"Notes_note-actions__1iCgZ","note-content":"Notes_note-content__ztHBo","note-content-footer":"Notes_note-content-footer__3wrT-"}},6870:function(e){e.exports={"video-data":"VideoData_video-data__1UhvP","header-tabs":"VideoData_header-tabs__3fEqf","video-resources":"VideoData_video-resources__1FDKb",active:"VideoData_active__1qCM6","video-overview":"VideoData_video-overview__1_HUL",title:"VideoData_title__K4uYC",duration:"VideoData_duration__24ioV","sub-title":"VideoData_sub-title__1bHim",learn:"VideoData_learn__lvZUR",features:"VideoData_features__2WEra","resources-grid":"VideoData_resources-grid__1Vr0_","resources-item":"VideoData_resources-item__1syQT","resources-icon":"VideoData_resources-icon__2Nl2K"}}},function(e){e.O(0,[774,247,764,638,529,429,913,310,603,775,888,179],(function(){return t=7396,e(e.s=t);var t}));var t=e.O();_N_E=t}]);